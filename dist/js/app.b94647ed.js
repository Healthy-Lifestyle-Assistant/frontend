(function(){"use strict";var e={1495:function(e,t,s){var i=s(9242),a=s(3396);const o={class:"container global-margins container-custom"};function l(e,t,s,i,l,n){const r=(0,a.up)("NavbarComponent"),c=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r),(0,a._)("div",o,[(0,a.Wm)(c)])],64)}var n=s(7139),r=s.p+"img/logo.9ed25c49.png";const c={class:"navbar fixed-top navbar-expand-lg bg-light mb-5","data-bs-theme":"light"},u={class:"container-fluid"},d=(0,a._)("img",{src:r,alt:"Logo",class:"d-inline-block align-text-top logo-custom-size"},null,-1),m=(0,a._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,a._)("span",{class:"navbar-toggler-icon"})],-1),p={class:"collapse navbar-collapse",id:"navbarSupportedContent"},h={class:"navbar-nav me-auto mb-2 mb-lg-0"},g={class:"nav-item me-3"},f={class:"nav-item me-3"},b={class:"nav-item me-3"},y={class:"nav-item me-3"},w={class:"nav-item me-3"},k={key:0,class:"d-flex align-items-center"},_={key:1,class:"d-flex align-items-center"};function x(e,t,s,i,o,l){const r=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("nav",c,[(0,a._)("div",u,[(0,a.Wm)(r,{to:"/",class:"navbar-brand me-5"},{default:(0,a.w5)((()=>[d,(0,a.Uk)(" Healthy Life ")])),_:1}),m,(0,a._)("div",p,[(0,a._)("ul",h,[(0,a._)("li",g,[(0,a._)("a",{href:"/workouts-list",class:(0,n.C_)({"nav-link":!0,active:l.isWorkouts})},"Workout",2)]),(0,a._)("li",f,[(0,a._)("a",{href:"/nutrition",class:(0,n.C_)({"nav-link":!0,active:l.isNutrition})},"Nutrition",2)]),(0,a._)("li",b,[(0,a._)("a",{href:"/meditations",class:(0,n.C_)({"nav-link":!0,active:l.isMeditations})},"Meditation",2)]),(0,a._)("li",y,[(0,a._)("a",{href:"/calendar",class:(0,n.C_)({"nav-link":!0,active:l.isCalendar})},"Calendar",2)]),(0,a._)("li",w,[(0,a._)("a",{href:"/stats",class:(0,n.C_)({"nav-link":!0,active:l.isStats})},"Stats",2)])]),l.isLogged?((0,a.wg)(),(0,a.iD)("div",k,[(0,a.Wm)(r,{to:"/settings",class:"btn btn-outline-secondary me-2",role:"button"},{default:(0,a.w5)((()=>[(0,a.Uk)("Settings")])),_:1}),(0,a.Wm)(r,{to:"/logout",class:"btn btn-outline-secondary me-2",role:"button"},{default:(0,a.w5)((()=>[(0,a.Uk)("Logout")])),_:1})])):((0,a.wg)(),(0,a.iD)("div",_,[(0,a.Wm)(r,{to:"/login",class:"btn btn-outline-secondary me-2",role:"button"},{default:(0,a.w5)((()=>[(0,a.Uk)("Login")])),_:1}),(0,a.Wm)(r,{to:"/signup",class:"btn btn-secondary me-2",role:"button"},{default:(0,a.w5)((()=>[(0,a.Uk)("Sign-Up")])),_:1})]))])])])}var v={name:"NavbarComponent",computed:{isLogged(){return this.$store.state.isLogged},getCurrentUrl(){return this.$store.state.currentUrl},getPreviousUrl(){return this.$store.state.previousUrl},isWorkouts(){return this.$store.state.currentUrl.includes("workouts")},isNutrition(){return this.$store.state.currentUrl.includes("nutrition")},isMeditations(){return this.$store.state.currentUrl.includes("meditations")},isCalendar(){return this.$store.state.currentUrl.includes("calendar")},isStats(){return this.$store.state.currentUrl.includes("stats")}}},C=s(89);const D=(0,C.Z)(v,[["render",x]]);var E=D,T={name:"App",components:{NavbarComponent:E}};const P=(0,C.Z)(T,[["render",l]]);var $=P,q=s(678),W=s.p+"img/linkedin-icon.d0633ae1.svg",U=s.p+"img/github-icon.e647f592.svg";const S=(0,a.uE)('<div class="d-flex flex-column" style="width:90%;"><h2 class="mt-3 mb-5">Enhance Your Health and Wellbeing</h2><p class="lead"> Healthy Lifestyle Assistant is a startup promoting a healthy lifestyle using digital technologies. Our web application helps people maintain good habits like workouts, nutrition, and mental health activities. <br><br> A healthy lifestyle is a way of living that lowers the risk of being seriously ill or dying early. Not all diseases are preventable, but a large portion of deaths, particularly those from coronary heart disease and lung cancer, can be avoided. Scientific studies have identified certain types of behavior that contribute to the development of noncommunicable diseases and early death. Health is not just about avoiding disease. Itâ€™s also about physical, mental and social wellbeing. When a healthy lifestyle is adopted, a more positive model is provided for other people in the family, particularly children. <br><br> Web application aims to support people to change their behavior and improve their health in order to live healthier, longer lives. </p><p class="lead mt-3"><b>Contact Us</b><br><a href="https://www.linkedin.com/in/olegkdev/" class="me-5" style="text-decoration:none;color:#343a40;"> LinkedIn <img src="'+W+'" alt="" width="20" height="20" class="d-inline-block"></a><br> Email: <span>office@healthy-lifestyle-assistant.com</span></p><p class="lead mt-3"><b>Organization</b><br><a href="https://www.linkedin.com/company/healthy-lifestyle-assistant/" class="me-5" style="text-decoration:none;color:#343a40;"> LinkedIn <img src="'+W+'" alt="" width="20" height="20" class="d-inline-block"></a><br><a href="https://github.com/Healthy-Lifestyle-Assistant/" class="me-5" style="text-decoration:none;color:#343a40;"> GitHub <img src="'+U+'" alt="" width="20" height="20" class="d-inline-block"></a><br></p></div>',1);function I(e,t,s,i,o,l){const r=(0,a.up)("metainfo");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r,null,{title:(0,a.w5)((({content:e})=>[(0,a.Uk)((0,n.zw)(e),1)])),_:1}),S],64)}var L=s(9590),z={name:"HomePage",setup(){(0,L.jq)({title:"Healthy - Home",htmlAttrs:{lang:"en"}})},async created(){this.$store.commit("setCurrentUrl","/")},computed:{isLogged(){return this.$store.state.isLogged}}};const M=(0,C.Z)(z,[["render",I]]);var B=M;const A={class:"d-flex flex-column align-items-center"},N=(0,a._)("h4",{class:"text-muted mb-4"},"Login",-1),F={class:"mb-4"},j=(0,a._)("label",{for:"usernameOrEmail",class:"form-label"},"Username or email",-1),R={class:"mb-4"},H=(0,a._)("label",{for:"password",class:"form-label"},"Password",-1),V=(0,a._)("button",{type:"submit",class:"btn btn-secondary mt-4"},"Login",-1);function O(e,t,s,o,l,r){const c=(0,a.up)("metainfo"),u=(0,a.up)("AlertComponent");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(c,null,{title:(0,a.w5)((({content:e})=>[(0,a.Uk)((0,n.zw)(e),1)])),_:1}),(0,a._)("div",A,[N,(0,a.Wm)(u,{message:l.message,messageType:l.messageType},null,8,["message","messageType"]),""!==e.$store.state.sharedMessage?((0,a.wg)(),(0,a.j4)(u,{key:0,id:"sharedMessage",message:e.$store.state.sharedMessage,messageType:e.$store.state.sharedMessageType},null,8,["message","messageType"])):(0,a.kq)("",!0),(0,a._)("form",{onSubmit:t[2]||(t[2]=(0,i.iM)(((...e)=>r.onSubmitForm&&r.onSubmitForm(...e)),["prevent"])),style:{width:"fit-content"}},[(0,a._)("div",F,[j,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"usernameOrEmail","onUpdate:modelValue":t[0]||(t[0]=e=>l.usernameOrEmail=e),placeholder:"Enter username/email",required:""},null,512),[[i.nr,l.usernameOrEmail]])]),(0,a._)("div",R,[H,(0,a.wy)((0,a._)("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e),placeholder:"Enter password",required:""},null,512),[[i.nr,l.password]])]),V],32)])],64)}s(7658);const Y="/api/v1/",Z=Y+"users/auth/login",G=Y+"users/auth/validate",K=Y+"users/countries",J=Y+"users",Q=Y+"users/",X=Y+"workouts/exercises",ee=Y+"workouts/exercises/",te=X+"/default",se=X+"/default/",ie=Y+"workouts/bodyParts",ae=Y+"workouts/httpRefs",oe=Y+"workouts/httpRefs/",le=ae+"/default",ne="?pageSize=1000",re=Y+"workouts",ce=Y+"workouts/",ue=Y+"workouts/default",de=Y+"workouts/default/",me="SECONDARY",pe="WARNING",he="SUCCESS",ge="Not found",fe="Login successful",be="Signup successful! Please log in",ye="You are unlogged",we="Profile has been updated successfully",ke="Profile has been deleted successfully",_e="Exercise has been created successfully",xe="Exercise has been updated successfully",ve="Exercise has been deleted successfully",Ce="Media has been created successfully",De="Media has been updated successfully",Ee="Media has been deleted successfully",Te="Workout has been created successfully",Pe="Workout has been updated successfully",$e="Workout has been deleted successfully";function qe(e,t,s,i,o,l){return s.message?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,n.C_)(l.alertClasses),role:"alert",style:{width:"fit-content"}},(0,n.zw)(s.message),3)):(0,a.kq)("",!0)}var We={name:"AlertComponent",props:{message:String,messageType:String},computed:{alertClasses(){return{alert:!0,"alert-secondary":"SECONDARY"===this.messageType,"alert-warning":"WARNING"===this.messageType,"alert-success":"SUCCESS"===this.messageType}}}};const Ue=(0,C.Z)(We,[["render",qe]]);var Se=Ue,Ie={name:"LoginPage",setup(){(0,L.jq)({title:"Login",htmlAttrs:{lang:"en"}})},data(){return{usernameOrEmail:"",password:"",message:"",messageType:""}},components:{AlertComponent:Se},async created(){this.$store.commit("setCurrentUrl","/login")},methods:{async onSubmitForm(){""!==this.$store.state.sharedMessage&&(this.$store.commit("setSharedMessage",""),this.$store.commit("setSharedMessageType",""));const e={usernameOrEmail:this.usernameOrEmail,password:this.password};try{const t=await this.login(e);if(200===t.status)localStorage.setItem("token",JSON.stringify(t.body.token).slice(1,-1)),this.$store.commit("setLogged",!0),this.messageType=he,this.message=fe,null===this.$store.state.previousUrl||""===this.$store.state.previousUrl||"/login"===this.$store.state.previousUrl||"/signup"===this.$store.state.previousUrl?this.$router.push("/workouts-list"):this.$router.push(this.$store.state.previousUrl);else{let e="";for(const s in t.body)e+=`${s}: ${t.body[s]}. `;this.messageType=pe,this.message=e}}catch(t){this.messageType=pe,this.message=`Error: ${t}`}this.usernameOrEmail=null,this.password=null,this.confirmPassword=null},async login(e){const t=await fetch(Z,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();return{status:t.status,body:s}}}};const Le=(0,C.Z)(Ie,[["render",O]]);var ze=Le;function Me(e,t,s,i,o,l){return(0,a.wg)(),(0,a.iD)("div")}var Be={name:"LogoutPage",created(){this.$store.commit("setCurrentUrl","/login"),localStorage.removeItem("token"),this.$store.commit("setLogged",!1),this.$router.push("/login")}};const Ae=(0,C.Z)(Be,[["render",Me]]);var Ne=Ae;const Fe={class:"d-flex flex-column align-items-center"},je=(0,a._)("h4",{class:"text-muted mb-4"},"Register",-1),Re={class:"mb-4"},He=(0,a._)("label",{for:"username",class:"form-label"},[(0,a.Uk)("Username"),(0,a._)("span",{class:"span-color"}," *")],-1),Ve={class:"mb-4"},Oe=(0,a._)("label",{for:"email",class:"form-label"},[(0,a.Uk)("Email"),(0,a._)("span",{class:"span-color"}," *")],-1),Ye={class:"mb-4"},Ze=(0,a._)("label",{for:"fullName",class:"form-label"},[(0,a.Uk)("Name"),(0,a._)("span",{class:"span-color"}," *")],-1),Ge={class:"mb-4"},Ke=(0,a._)("label",{for:"password",class:"form-label"},[(0,a.Uk)("Password"),(0,a._)("span",{class:"span-color"}," *")],-1),Je={class:"mb-4"},Qe=(0,a._)("label",{for:"confirmPassword",class:"form-label"},[(0,a.Uk)("Confirm Password"),(0,a._)("span",{class:"span-color"}," *")],-1),Xe={key:0,class:"mb-4"},et=(0,a._)("label",{for:"countries",class:"form-label"},[(0,a.Uk)("Country"),(0,a._)("span",{class:"span-color"}," *")],-1),tt=(0,a._)("option",{value:null,disabled:""},"Select country",-1),st=["value"],it={class:"mb-4"},at=(0,a._)("label",{for:"age",class:"form-label"},"Age",-1),ot=(0,a._)("div",null,[(0,a._)("span",{class:"span-color"},"*"),(0,a.Uk)(),(0,a._)("i",null,"Required fields")],-1),lt=(0,a._)("button",{id:"signupButton",type:"submit",class:"btn btn-secondary mt-4"},"Sign Up",-1),nt=(0,a._)("br",null,null,-1),rt=(0,a._)("br",null,null,-1);function ct(e,t,s,o,l,r){const c=(0,a.up)("metainfo"),u=(0,a.up)("AlertComponent");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(c,null,{title:(0,a.w5)((({content:e})=>[(0,a.Uk)((0,n.zw)(e),1)])),_:1}),(0,a._)("div",Fe,[je,(0,a.Wm)(u,{message:l.message,messageType:l.messageType},null,8,["message","messageType"]),(0,a._)("form",{onSubmit:t[7]||(t[7]=(0,i.iM)(((...e)=>r.submitForm&&r.submitForm(...e)),["prevent"])),style:{width:"fit-content"},class:"mb-5"},[(0,a._)("div",Re,[He,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>l.username=e),placeholder:"Enter username",required:""},null,512),[[i.nr,l.username]])]),(0,a._)("div",Ve,[Oe,(0,a.wy)((0,a._)("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":t[1]||(t[1]=e=>l.email=e),placeholder:"Enter email",required:""},null,512),[[i.nr,l.email]])]),(0,a._)("div",Ye,[Ze,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"fullName","onUpdate:modelValue":t[2]||(t[2]=e=>l.fullName=e),placeholder:"Enter full name",required:""},null,512),[[i.nr,l.fullName]])]),(0,a._)("div",Ge,[Ke,(0,a.wy)((0,a._)("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":t[3]||(t[3]=e=>l.password=e),placeholder:"Enter password",required:""},null,512),[[i.nr,l.password]])]),(0,a._)("div",Je,[Qe,(0,a.wy)((0,a._)("input",{type:"password",class:"form-control",id:"confirmPassword","onUpdate:modelValue":t[4]||(t[4]=e=>l.confirmPassword=e),placeholder:"Confirm password",required:""},null,512),[[i.nr,l.confirmPassword]])]),l.countries?((0,a.wg)(),(0,a.iD)("div",Xe,[et,(0,a.wy)((0,a._)("select",{id:"countries","onUpdate:modelValue":t[5]||(t[5]=e=>l.countryId=e),class:"form-select","aria-label":"Select Country",required:""},[tt,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.countries,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.id},(0,n.zw)(e.name),9,st)))),128))],512),[[i.bM,l.countryId]])])):(0,a.kq)("",!0),(0,a._)("div",it,[at,(0,a.wy)((0,a._)("input",{type:"number",min:"16",max:"120",step:"1",class:"form-control",id:"age","onUpdate:modelValue":t[6]||(t[6]=e=>l.age=e),placeholder:"Enter age (optional)"},null,512),[[i.nr,l.age]])]),ot,lt,nt,rt],32)])],64)}var ut={name:"SignupPage",setup(){(0,L.jq)({title:"Signup",htmlAttrs:{lang:"en"}})},data(){return{username:"",email:"",fullName:"",password:"",confirmPassword:"",countryId:null,countries:null,age:null,message:"",messageType:""}},components:{AlertComponent:Se},async created(){this.$store.commit("setCurrentUrl","/signup");let e=await this.getCountries();this.countries=e.body},methods:{async submitForm(){const e={username:this.username,email:this.email,fullName:this.fullName,password:this.password,confirmPassword:this.confirmPassword,countryId:this.countryId,age:this.age};try{const t=await this.signup(e);if(201===t.status)this.$router.push("/login"),this.$store.commit("setSharedMessageType",he),this.$store.commit("setSharedMessage",be);else{let e="";for(const s in t.body)e+=`${s}: ${t.body[s]}. `;this.messageType=pe,this.message=e}}catch(t){this.messageType=pe,this.message=`Error: ${t}`}this.username="",this.email="",this.fullName="",this.password="",this.confirmPassword="",this.countryId=null,this.age=null},async signup(e){const t=await fetch(J,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=t.headers.get("content-type");if(s&&s.includes("application/json")){const e=await t.json();return{status:t.status,body:e}}return{status:t.status,body:null}},async getCountries(){const e=await fetch(K,{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();return{status:e.status,body:t}}}};const dt=(0,C.Z)(ut,[["render",ct]]);var mt=dt;const pt={class:"d-flex flex-column align-items-start"},ht=(0,a._)("h4",{class:"mb-4 text-muted"},"Update Profile",-1),gt={class:"mb-4"},ft={for:"username",class:"form-label"},bt={class:"mb-4"},yt={for:"email",class:"form-label"},wt={class:"mb-4"},kt={for:"fullName",class:"form-label"},_t={class:"mb-4"},xt={for:"age",class:"form-label"},vt={key:0,class:"mb-4"},Ct=(0,a._)("label",{for:"countries",class:"form-label"},"Current country",-1),Dt=["value"],Et={class:"mb-4"},Tt=(0,a._)("label",{for:"password",class:"form-label"},"Update password",-1),Pt={class:"mb-4"},$t=(0,a._)("label",{for:"confirmPassword",class:"form-label"},"Confirm new password",-1),qt=(0,a._)("button",{type:"submit",class:"btn btn-secondary mt-4"},"Update",-1),Wt=(0,a._)("h4",{class:"mb-2 text-muted"},"Delete Profile",-1),Ut=(0,a._)("div",{class:"mb-2"},"Deletion of the profile will delete all user's data.",-1),St={class:"d-flex"},It=(0,a._)("label",{for:"confirmDeletion",class:"form-check-label ms-2"},[(0,a._)("span",{class:"span-color"},"Confirm deletion. This action cannot be undone.")],-1),Lt=["disabled"],zt=(0,a._)("br",null,null,-1);function Mt(e,t,s,o,l,r){const c=(0,a.up)("metainfo"),u=(0,a.up)("AlertComponent");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(c,null,{title:(0,a.w5)((({content:e})=>[(0,a.Uk)((0,n.zw)(e),1)])),_:1}),(0,a._)("div",pt,[(0,a.Wm)(u,{message:l.message,messageType:l.messageType},null,8,["message","messageType"]),ht,(0,a._)("form",{class:"mb-5",onSubmit:t[7]||(t[7]=(0,i.iM)(((...e)=>r.onSubmitUpdateForm&&r.onSubmitUpdateForm(...e)),["prevent"])),style:{width:"fit-content"}},[(0,a._)("div",gt,[(0,a._)("label",ft,"Current username: "+(0,n.zw)(this.usernameLabel),1),(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>l.username=e),placeholder:"Enter new username"},null,512),[[i.nr,l.username]])]),(0,a._)("div",bt,[(0,a._)("label",yt,"Current email: "+(0,n.zw)(this.emailLabel),1),(0,a.wy)((0,a._)("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":t[1]||(t[1]=e=>l.email=e),placeholder:"Enter new email"},null,512),[[i.nr,l.email]])]),(0,a._)("div",wt,[(0,a._)("label",kt,"Current full name: "+(0,n.zw)(this.fullNameLabel),1),(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"fullName","onUpdate:modelValue":t[2]||(t[2]=e=>l.fullName=e),placeholder:"Enter new full name"},null,512),[[i.nr,l.fullName]])]),(0,a._)("div",_t,[(0,a._)("label",xt,"Current age: "+(0,n.zw)(null===this.ageLabel?"None":this.ageLabel),1),(0,a.wy)((0,a._)("input",{type:"age",class:"form-control",id:"age","onUpdate:modelValue":t[3]||(t[3]=e=>l.age=e),placeholder:"Enter new age"},null,512),[[i.nr,l.age]])]),l.countries?((0,a.wg)(),(0,a.iD)("div",vt,[Ct,(0,a.wy)((0,a._)("select",{id:"countries","onUpdate:modelValue":t[4]||(t[4]=e=>l.countryId=e),class:"form-select","aria-label":"Select new country",required:""},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.countries,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.id},(0,n.zw)(e.name),9,Dt)))),128))],512),[[i.bM,l.countryId]])])):(0,a.kq)("",!0),(0,a._)("div",Et,[Tt,(0,a.wy)((0,a._)("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":t[5]||(t[5]=e=>l.password=e),placeholder:"Enter new password"},null,512),[[i.nr,l.password]])]),(0,a._)("div",Pt,[$t,(0,a.wy)((0,a._)("input",{type:"password",class:"form-control",id:"confirmPassword","onUpdate:modelValue":t[6]||(t[6]=e=>l.confirmPassword=e),placeholder:"Enter new password"},null,512),[[i.nr,l.confirmPassword]])]),qt],32),(0,a._)("div",null,[Wt,Ut,(0,a._)("div",St,[(0,a.wy)((0,a._)("input",{type:"checkbox",value:"",class:"form-check-input",id:"confirmDeletion","onUpdate:modelValue":t[8]||(t[8]=e=>l.confirmDeletion=e)},null,512),[[i.e8,l.confirmDeletion]]),It]),(0,a._)("form",{onSubmit:t[9]||(t[9]=(0,i.iM)(((...e)=>r.onSubmitDeleteForm&&r.onSubmitDeleteForm(...e)),["prevent"])),style:{"min-width":"13rem",width:"fit-content"},class:"mb-5"},[(0,a._)("button",{disabled:!l.confirmDeletion,type:"submit",class:"btn btn-warning mt-4"},"Delete",8,Lt)],32),zt])])],64)}function Bt(){const e=localStorage.getItem("token");return null===e||""===e?null:e}async function At(){const e=localStorage.getItem("token");if(null===e)return null;if(""===e)return localStorage.removeItem("token"),null;const t=await fetch(G,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});return 200===t.status?e:(localStorage.removeItem("token"),null)}var Nt={name:"SettingsPage",setup(){(0,L.jq)({title:"Settings",htmlAttrs:{lang:"en"}})},data(){return{usernameLabel:null,emailLabel:null,fullNameLabel:null,ageLabel:null,countries:null,userId:null,username:null,email:null,fullName:null,password:null,confirmPassword:null,countryId:null,age:null,message:"",messageType:"",confirmDeletion:!1}},components:{AlertComponent:Se},async created(){this.$store.commit("setCurrentUrl","/settings");let e=await this.getCountries();this.countries=e.body;const t=await At();t?(this.$store.commit("setLogged",!0),await this.getUserDetails(this.$route.params.id)):(this.$store.commit("setLogged",!1),this.$router.push("/login"))},methods:{async onSubmitUpdateForm(){const e={username:this.username,email:this.email,fullName:this.fullName,countryId:this.countryId,age:this.age,password:this.password,confirmPassword:this.confirmPassword};try{const t=await this.updateUser(e);if(200===t.status)this.messageType=he,this.message=we,this.usernameLabel=t.body.username,this.emailLabel=t.body.email,this.fullNameLabel=t.body.fullName,this.countryIdLabel=t.body.countryId,this.ageLabel=t.body.age;else if(401===t.status)localStorage.removeItem("token"),this.$store.commit("setLogged",!1),this.$router.push("/login");else{let e="";for(const s in t.body)e+=`${s}: ${t.body[s]}. `;this.messageType=pe,this.message=e}}catch(t){this.messageType=pe,this.message=`Error: ${t}`}this.username=null,this.email=null,this.fullName=null,this.age=null,this.password=null,this.confirmPassword=null},async onSubmitDeleteForm(){try{const e=await this.deleteUser(this.$route.params.id);if(204===e.status)this.messageType=he,this.message=ke,localStorage.removeItem("token"),this.$store.commit("setLogged",!1),this.$router.push("/signup");else if(401===e.status)localStorage.removeItem("token"),this.$store.commit("setLogged",!1),this.$router.push("/login");else{let t="";for(const s in e.body)t+=`${s}: ${e.body[s]}. `;this.messageType=pe,this.message=t}}catch(e){this.messageType=pe,this.message=`Error: ${e}`}},async getCountries(){const e=await fetch(K,{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();return{status:e.status,body:t}},async getUserDetails(){let e=Bt();const t=await fetch(J,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}}),s=await t.json();this.userId=s.id,this.usernameLabel=s.username,this.emailLabel=s.email,this.fullNameLabel=s.fullName,this.ageLabel=s.age,this.countryId=s.countryId},async updateUser(e){let t=Q+this.userId,s=Bt();const i=await fetch(t,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(e)}),a=await i.json();return{status:i.status,body:a}},async deleteUser(){let e=Q+this.userId,t=Bt();const s=await fetch(e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});return{status:s.status}}}};const Ft=(0,C.Z)(Nt,[["render",Mt]]);var jt=Ft;const Rt={class:"d-flex flex-column align-items-start"},Ht=(0,a._)("br",null,null,-1),Vt=(0,a._)("br",null,null,-1),Ot=(0,a._)("br",null,null,-1),Yt={class:"d-flex flex-row flex-wrap mb-2"},Zt={key:0,class:"form-check me-3"},Gt=(0,a._)("label",{for:"filterIsCustom",class:"form-check-label"},"Custom",-1),Kt={key:1,class:"form-check me-3"},Jt=(0,a._)("label",{for:"filterIsDefault",class:"form-check-label"},"Default",-1),Qt={class:"form-check me-3"},Xt=(0,a._)("label",{for:"filterWithEquipment",class:"form-check-label"},"With equipment",-1),es={class:"form-check me-3"},ts=(0,a._)("label",{for:"filterWithoutEquipment",class:"form-check-label"},"Without equipment",-1),ss={class:"d-flex flex-row flex-wrap mb-2"},is={class:"mb-2 me-3"},as={class:"mb-2 me-3"},os={key:0,class:"d-flex flex-row flex-wrap mb-2"},ls=["id","onClick","checked"],ns=["for"],rs={class:"d-flex flex-row flex-wrap mb-2"},cs={class:"mb-2 me-3"},us=(0,a._)("option",{value:null,disabled:""},"Sort by",-1),ds={key:1,value:"title"},ms={key:2,value:"description"},ps={class:"mb-2 me-3"},hs=(0,a._)("option",{value:null,disabled:""},"Direction",-1),gs={key:1,value:"asc"},fs={key:2,value:"desc"},bs={class:"mb-2 me-3"},ys=(0,a._)("option",{value:null,disabled:""},"Page size",-1),ws={key:1,value:5},ks={key:2,value:10},_s={key:3,value:15},xs=(0,a._)("br",null,null,-1),vs={key:0,id:"totalElements",class:"text-muted mb-2"},Cs={key:1,class:"d-flex flex-row flex-wrap"},Ds={class:"d-flex flex-column align-items-center"},Es={"aria-label":"pagination"},Ts={class:"pagination"},Ps=["aria-current"],$s={key:0,class:"page-link"},qs=["onClick"];function Ws(e,t,s,o,l,r){const c=(0,a.up)("metainfo"),u=(0,a.up)("BreadcrumbWorkoutsComponent"),d=(0,a.up)("AlertComponent"),m=(0,a.up)("ButtonComponent"),p=(0,a.up)("WorkoutComponent");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(c,null,{title:(0,a.w5)((({content:e})=>[(0,a.Uk)((0,n.zw)(e),1)])),_:1}),(0,a._)("div",Rt,[(0,a._)("div",null,[(0,a.Wm)(u),(0,a.Wm)(d,{message:l.message,messageType:l.messageType},null,8,["message","messageType"]),Ht,(0,a.Wm)(m,{link:"/workouts-create-workout",title:"New Workout"}),Vt,Ot]),(0,a._)("button",{id:"filterButton",onClick:t[0]||(t[0]=(...e)=>r.onFilterToggle&&r.onFilterToggle(...e)),class:"btn btn-secondary mb-3"},(0,n.zw)(l.filterButtonText),1),(0,a._)("form",{class:(0,n.C_)(["filter-width",{"d-flex flex-column align-items-start mb-3":l.isFilterVisible,"d-none":!l.isFilterVisible}])},[(0,a._)("div",Yt,[e.$store.state.isLogged?((0,a.wg)(),(0,a.iD)("div",Zt,[(0,a.wy)((0,a._)("input",{type:"checkbox",value:"",class:"form-check-input",id:"filterIsCustom","onUpdate:modelValue":t[1]||(t[1]=e=>l.filterIsCustom=e)},null,512),[[i.e8,l.filterIsCustom]]),Gt])):(0,a.kq)("",!0),e.$store.state.isLogged?((0,a.wg)(),(0,a.iD)("div",Kt,[(0,a.wy)((0,a._)("input",{type:"checkbox",value:"",class:"form-check-input",id:"filterIsDefault","onUpdate:modelValue":t[2]||(t[2]=e=>l.filterIsDefault=e)},null,512),[[i.e8,l.filterIsDefault]]),Jt])):(0,a.kq)("",!0),(0,a._)("div",Qt,[(0,a.wy)((0,a._)("input",{type:"checkbox",value:"",class:"form-check-input",id:"filterWithEquipment","onUpdate:modelValue":t[3]||(t[3]=e=>l.filterWithEquipment=e)},null,512),[[i.e8,l.filterWithEquipment]]),Xt]),(0,a._)("div",es,[(0,a.wy)((0,a._)("input",{type:"checkbox",value:"",class:"form-check-input",id:"filterWithoutEquipment","onUpdate:modelValue":t[4]||(t[4]=e=>l.filterWithoutEquipment=e)},null,512),[[i.e8,l.filterWithoutEquipment]]),ts])]),(0,a._)("div",ss,[(0,a._)("div",is,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"filterTitle","onUpdate:modelValue":t[5]||(t[5]=e=>l.filterTitle=e),placeholder:"Filter by title"},null,512),[[i.nr,l.filterTitle]])]),(0,a._)("div",as,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"filterDescription","onUpdate:modelValue":t[6]||(t[6]=e=>l.filterDescription=e),placeholder:"Filter by description"},null,512),[[i.nr,l.filterDescription]])])]),l.bodyParts&&l.bodyParts.length>0?((0,a.wg)(),(0,a.iD)("div",os,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.bodyParts,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,class:"me-2"},[(0,a._)("input",{type:"checkbox",value:"",class:"form-check-input",id:e.name,onClick:t=>r.onClickBodyPartCheckbox(e.id),checked:l.bodyPartsStates[e.id]},null,8,ls),(0,a._)("label",{for:e.name,class:"form-check-label"},(0,n.zw)(e.name),9,ns)])))),128))])):(0,a.kq)("",!0),(0,a._)("div",rs,[(0,a._)("div",cs,[(0,a.wy)((0,a._)("select",{id:"sortField","onUpdate:modelValue":t[7]||(t[7]=e=>l.sortField=e),class:"form-select","aria-label":"sortField"},[us,((0,a.wg)(),(0,a.iD)("option",ds,"Title")),((0,a.wg)(),(0,a.iD)("option",ms,"Description"))],512),[[i.bM,l.sortField]])]),(0,a._)("div",ps,[(0,a.wy)((0,a._)("select",{id:"sortDirection","onUpdate:modelValue":t[8]||(t[8]=e=>l.sortDirection=e),class:"form-select","aria-label":"sortDirection"},[hs,((0,a.wg)(),(0,a.iD)("option",gs,"Ascending")),((0,a.wg)(),(0,a.iD)("option",fs,"Descending"))],512),[[i.bM,l.sortDirection]])]),(0,a._)("div",bs,[(0,a.wy)((0,a._)("select",{id:"pageSize","onUpdate:modelValue":t[9]||(t[9]=e=>l.pageSize=e),class:"form-select","aria-label":"pageSize"},[ys,((0,a.wg)(),(0,a.iD)("option",ws,"5")),((0,a.wg)(),(0,a.iD)("option",ks,"10")),((0,a.wg)(),(0,a.iD)("option",_s,"15"))],512),[[i.bM,l.pageSize]])])]),(0,a._)("div",null,[(0,a._)("button",{id:"clearButton",onClick:t[10]||(t[10]=e=>r.onClearFilter(e)),class:"btn btn-outline-secondary mb-2 me-2"},"Clear"),(0,a._)("button",{id:"applyButton",onClick:t[11]||(t[11]=e=>r.onPageRequest(e,0)),class:"btn btn-secondary mb-2"},"Apply")])],2),(0,a.Wm)(d,{message:l.filterMessage,messageType:l.filterMessageType},null,8,["message","messageType"]),xs,l.totalElements?((0,a.wg)(),(0,a.iD)("div",vs,(0,n.zw)(this.totalElements)+" found",1)):(0,a.kq)("",!0),l.entities&&l.entities.length>0?((0,a.wg)(),(0,a.iD)("div",Cs,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.entities,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id},[(0,a.Wm)(p,{id:e.id,title:e.title,description:e.description,bodyParts:e.bodyParts,isCustom:e.isCustom,needsEquipment:e.needsEquipment,exercises:e.exercises},null,8,["id","title","description","bodyParts","isCustom","needsEquipment","exercises"])])))),128))])):(0,a.kq)("",!0)]),(0,a._)("div",Ds,[(0,a._)("nav",Es,[(0,a._)("ul",Ts,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.totalPages,(e=>((0,a.wg)(),(0,a.iD)("li",{key:e,class:(0,n.C_)({"page-item":!0,active:l.pageNumber===e-1}),"aria-current":{page:l.pageNumber===e-1}},[l.pageNumber===e-1?((0,a.wg)(),(0,a.iD)("span",$s,(0,n.zw)(e),1)):((0,a.wg)(),(0,a.iD)("a",{key:1,class:"page-link",href:"",onClick:t=>r.onPageRequest(t,e-1)},(0,n.zw)(e),9,qs))],10,Ps)))),128))])])])],64)}const Us={class:"card mb-3 me-3 workout-card-width"},Ss={class:"card-body"},Is={class:"card-title"},Ls={class:"card-subtitle mb-2 text-body-secondary"},zs={key:0,class:"card-text"},Ms={key:1,class:"card-text mb-4"},Bs={class:"body-parts"},As={key:2,class:"d-flex justify-content-end mt-3 me-4"},Ns={key:3,class:"d-flex justify-content-end me-4"};function Fs(e,t,s,i,o,l){const r=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",Us,[(0,a._)("div",Ss,[(0,a._)("h5",Is,(0,n.zw)(l.truncatedTitle),1),(0,a._)("h6",Ls,(0,n.zw)(s.isCustom?"Custom":"Default")+", "+(0,n.zw)(s.needsEquipment?"With Equipment":"Without Equipment"),1),s.description?((0,a.wg)(),(0,a.iD)("p",zs,(0,n.zw)(l.truncatedDescription),1)):(0,a.kq)("",!0),s.bodyParts?((0,a.wg)(),(0,a.iD)("div",Ms,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.bodyParts,(e=>((0,a.wg)(),(0,a.iD)("span",{class:"body-parts-span",key:e.id},[(0,a._)("small",Bs,(0,n.zw)(e.name.toLowerCase()),1),(0,a.Uk)("Â ")])))),128))])):(0,a.kq)("",!0),s.isCustom?((0,a.wg)(),(0,a.iD)("div",As,[(0,a.Wm)(r,{to:l.generateWorkoutManageLink(),class:"btn btn-outline-secondary d-block me-3"},{default:(0,a.w5)((()=>[(0,a.Uk)("Manage")])),_:1},8,["to"]),(0,a.Wm)(r,{to:l.generateWorkoutDetailsLink(),class:"btn btn-outline-secondary"},{default:(0,a.w5)((()=>[(0,a.Uk)("Details")])),_:1},8,["to"])])):((0,a.wg)(),(0,a.iD)("div",Ns,[(0,a.Wm)(r,{to:l.generateWorkoutDetailsLink(),class:"btn btn-outline-secondary"},{default:(0,a.w5)((()=>[(0,a.Uk)("Details")])),_:1},8,["to"])]))])])}function js(e,t){if(e&&e.length>t){const s=e.substring(0,t),i=s.lastIndexOf(" ");return-1!==i?s.substring(0,i)+"...":s+"..."}return e}var Rs={name:"WorkoutComponent",props:{id:Number,title:String,description:String,isCustom:Boolean,needsEquipment:Boolean,bodyParts:Array,exercises:Array},methods:{generateExerciseDetailsLink(e,t){return t?`/workouts-exercise-details/custom/${e}`:`/workouts-exercise-details/default/${e}`},generateWorkoutDetailsLink(){return`/workouts-details/${this.isCustom?"custom":"default"}/${this.id}`},generateWorkoutManageLink(){return`/workouts-manage-workout/${this.id}`}},computed:{truncatedTitle(){return js(this.title,23)},truncatedDescription(){return js(this.description,100)}}};const Hs=(0,C.Z)(Rs,[["render",Fs]]);var Vs=Hs;const Os={"aria-label":"breadcrumb"},Ys={class:"breadcrumb"},Zs={key:0,class:"breadcrumb-item mb-1 active","aria-current":"page"},Gs=(0,a._)("span",{class:"breadcrumb-custom"},"Workouts",-1),Ks=[Gs],Js={key:1,class:"breadcrumb-item mb-2","aria-current":"page"},Qs={key:2,class:"breadcrumb-item mb-1 active","aria-current":"page"},Xs=(0,a._)("span",{class:"breadcrumb-custom"},"Exercises",-1),ei=[Xs],ti={key:3,class:"breadcrumb-item mb-2","aria-current":"page"},si={key:4,class:"breadcrumb-item mb-1 active","aria-current":"page"},ii=(0,a._)("span",{class:"breadcrumb-custom"},"Reminders",-1),ai=[ii],oi={key:5,class:"breadcrumb-item mb-2","aria-current":"page"},li={key:6,class:"breadcrumb-item mb-1 active","aria-current":"page"},ni=(0,a._)("span",{class:"breadcrumb-custom"},"Media",-1),ri=[ni],ci={key:7,class:"breadcrumb-item mb-1","aria-current":"page"};function ui(e,t,s,i,o,l){const n=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("nav",Os,[(0,a._)("ol",Ys,[l.activeWorkouts?((0,a.wg)(),(0,a.iD)("li",Zs,Ks)):((0,a.wg)(),(0,a.iD)("li",Js,[(0,a.Wm)(n,{to:"/workouts-list",class:"breadcrumb-custom"},{default:(0,a.w5)((()=>[(0,a.Uk)("Workouts")])),_:1})])),l.activeExercises?((0,a.wg)(),(0,a.iD)("li",Qs,ei)):((0,a.wg)(),(0,a.iD)("li",ti,[(0,a.Wm)(n,{to:"/workouts-exercises-list",class:"breadcrumb-custom"},{default:(0,a.w5)((()=>[(0,a.Uk)("Exercises")])),_:1})])),l.activeReminders?((0,a.wg)(),(0,a.iD)("li",si,ai)):((0,a.wg)(),(0,a.iD)("li",oi,[(0,a.Wm)(n,{to:"/workouts-reminders-list",class:"breadcrumb-custom"},{default:(0,a.w5)((()=>[(0,a.Uk)("Reminders")])),_:1})])),l.activeMedia?((0,a.wg)(),(0,a.iD)("li",li,ri)):((0,a.wg)(),(0,a.iD)("li",ci,[(0,a.Wm)(n,{to:"/workouts-media-list",class:"breadcrumb-custom"},{default:(0,a.w5)((()=>[(0,a.Uk)("Media")])),_:1})]))])])}var di={name:"BreadcrumbWorkoutsComponent",computed:{activeWorkouts(){return this.$store.state.currentUrl.includes("workouts-list")},activeExercises(){return this.$store.state.currentUrl.includes("workouts-exercises-list")},activeReminders(){return this.$store.state.currentUrl.includes("workouts-reminders-list")},activeMedia(){return this.$store.state.currentUrl.includes("workouts-media-list")}}};const mi=(0,C.Z)(di,[["render",ui]]);var pi=mi;function hi(e,t,s,i,o,l){const r=(0,a.up)("router-link");return(0,a.wg)(),(0,a.j4)(r,{to:s.link,class:"btn btn-outline-secondary",role:"button"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(s.title),1)])),_:1},8,["to"])}var gi={name:"ButtonComponent",props:{title:String,link:String}};const fi=(0,C.Z)(gi,[["render",hi]]);var bi=fi,yi={name:"WorkoutsListPage",setup(){(0,L.jq)({title:"Workouts",htmlAttrs:{lang:"en"}})},data(){return{isFilterVisible:!1,filterButtonText:"Filter",entities:[],bodyParts:[],filterTitle:null,filterDescription:null,filterIsDefault:null,filterIsCustom:null,filterWithEquipment:null,filterWithoutEquipment:null,bodyPartsIds:[],bodyPartsStates:{},sortField:null,sortDirection:null,pageSize:null,isCustom:null,needsEquipment:null,content:[],totalPages:0,totalElements:null,pageNumber:0,size:null,isFirst:null,isLast:null,hasNext:null,hasPrevious:null,message:"",messageType:"",filterMessage:"",filterMessageType:""}},async created(){this.$store.commit("setCurrentUrl","/workouts-list"),this.setIsCustom(),this.setNeedsEquipment();const e=await At();let t=await this.getBodyParts();200==t.status&&(this.bodyParts=t.body);let s=null;if(e)this.$store.commit("setLogged",!0),s=await this.getWorkouts(this.getUrlString(0),e),200===s.status?Array.isArray(s.body.content)&&0===s.body.content.length?(this.filterMessageType=me,this.filterMessage=ge,this.httpRefs=[],this.totalPages=0,this.pageNumber=0):(this.entities=s.body.content,this.totalPages=s.body.totalPages,this.pageNumber=s.body.number,this.totalElements=s.body.totalElements):401===s.status?this.$router.push("/login"):(this.messageType=pe,this.message=`${s.body.message} - ${s.status})`);else{this.$store.commit("setLogged",!1),this.messageType=me,this.message=ye;const e=this.getUrlString(0);s=await this.getDefaultWorkouts(e),200===s.status?Array.isArray(s.body.content)&&0===s.body.content.length?(this.filterMessageType=me,this.filterMessage=ge,this.entities=[],this.totalPages=0,this.pageNumber=0):(this.entities=s.body.content,this.totalPages=s.body.totalPages,this.pageNumber=s.body.number,this.totalElements=s.body.totalElements):(this.messageType=pe,this.message=`${s.body.message} - ${s.status}`)}},components:{WorkoutComponent:Vs,BreadcrumbWorkoutsComponent:pi,AlertComponent:Se,ButtonComponent:bi},methods:{onFilterToggle(){this.isFilterVisible=!this.isFilterVisible,this.filterButtonText=this.isFilterVisible?"Hide Filter":"Filter"},onClearFilter(e){e.preventDefault(),this.filterWithEquipment=null,this.filterWithoutEquipment=null,this.filterTitle=null,this.filterDescription=null,this.filterIsCustom=null,this.filterIsDefault=null,this.isCustom=null,this.bodyPartsIds=[],this.sortField=null,this.sortDirection=null,this.pageSize=null,this.bodyPartsStates={}},onClickBodyPartCheckbox(e){if(this.bodyPartsIds.includes(e)){let t=this.bodyPartsIds.indexOf(e);this.bodyPartsIds.splice(t,1),delete this.bodyPartsStates[e]}else this.bodyPartsIds.push(e),this.bodyPartsStates[e]=!0},setIsCustom(){!0!==this.filterIsCustom||null!==this.filterIsDefault&&!1!==this.filterIsDefault?!0!==this.filterIsDefault||null!==this.filterIsCustom&&!1!==this.filterIsCustom?this.isCustom=null:this.isCustom=!1:this.isCustom=!0},setNeedsEquipment(){!0!==this.filterWithEquipment||null!==this.filterWithoutEquipment&&!1!==this.filterWithoutEquipment?!0!==this.filterWithoutEquipment||null!==this.filterWithEquipment&&!1!==this.filterWithEquipment?this.needsEquipment=null:this.needsEquipment=!1:this.needsEquipment=!0},getUrlString(e){let t=`?pageNumber=${e}`;if(null!==this.pageSize&&(t+=`&pageSize=${this.pageSize}`),null!==this.isCustom&&(t+=`&isCustom=${this.isCustom}`),null!=this.needsEquipment&&(t+=`&needsEquipment=${this.needsEquipment}`),null!==this.filterTitle&&""!==this.filterTitle.trim()&&(t+=`&title=${this.filterTitle.trim()}`),null!==this.filterDescription&&""!==this.filterDescription.trim()&&(t+=`&description=${this.filterDescription.trim()}`),this.bodyPartsIds&&this.bodyPartsIds.length>0){let e="&bodyPartsIds=";for(let t=0;t<this.bodyPartsIds.length;t++)e+=`${this.bodyPartsIds[t]},`;e=e.slice(0,e.length-1),t+=e}return null!==this.sortField&&(t+=`&sortField=${this.sortField}`),null!==this.sortDirection&&(t+=`&sortDirection=${this.sortDirection}`),t},async onPageRequest(e,t){e.preventDefault(),this.filterMessageType="",this.filterMessage="",this.totalElements=null,this.setIsCustom(),this.setNeedsEquipment();const s=this.getUrlString(t),i=this.$store.state.isLogged;let a=null;if(i){const e=Bt();a=await this.getWorkouts(s,e)}else a=await this.getDefaultWorkouts(s);200===a.status?Array.isArray(a.body.content)&&0===a.body.content.length?(this.filterMessageType=me,this.filterMessage=ge,this.entities=[],this.totalPages=0,this.pageNumber=0):(this.entities=a.body.content,this.totalPages=a.body.totalPages,this.pageNumber=a.body.number,this.totalElements=a.body.totalElements):401===a.status?this.$router.push("/login"):(this.messageType=pe,this.message=`Error: ${a.body.message}`)},async getDefaultWorkouts(e){let t=ue+e;const s=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}}),i=await s.json();return{status:s.status,body:i}},async getWorkouts(e,t){let s=re+e;const i=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}}),a=await i.json();return{status:i.status,body:a}},async getBodyParts(){const e=await fetch(ie,{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();return{status:e.status,body:t}}}};const wi=(0,C.Z)(yi,[["render",Ws]]);var ki=wi;const _i={class:"d-flex flex-column align-items-start"},xi=(0,a._)("br",null,null,-1),vi={key:0,class:"w-100"};function Ci(e,t,s,i,o,l){const r=(0,a.up)("metainfo"),c=(0,a.up)("BreadcrumbWorkoutsComponent"),u=(0,a.up)("AlertComponent"),d=(0,a.up)("WorkoutDetailsComponent");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r,null,{title:(0,a.w5)((({content:e})=>[(0,a.Uk)((0,n.zw)(e),1)])),_:1}),(0,a._)("div",_i,[(0,a.Wm)(c),(0,a.Wm)(u,{message:o.message,messageType:o.messageType},null,8,["message","messageType"]),(0,a.Uk)(),xi,o.workout?((0,a.wg)(),(0,a.iD)("div",vi,[(0,a.Wm)(d,{id:o.workout.id,title:o.workout.title,description:o.workout.description,bodyParts:o.workout.bodyParts,isCustom:o.workout.isCustom,needsEquipment:o.workout.needsEquipment,exercises:o.workout.exercises},null,8,["id","title","description","bodyParts","isCustom","needsEquipment","exercises"])])):(0,a.kq)("",!0)])],64)}const Di={class:"w-100"},Ei={class:"card-title mb-3"},Ti={class:"card-subtitle text-body-secondary mb-2"},Pi={key:0,class:"card-text description-width",style:{"font-style":"italic","text-align":"justify","word-wrap":"break-word"}},$i={key:1,class:"card-text"},qi={class:"body-parts"},Wi={key:3,class:"text-secondary mb-4 mt-5"},Ui={key:4,class:"d-flex flex-row flex-wrap"};function Si(e,t,s,i,o,l){const r=(0,a.up)("ButtonComponent"),c=(0,a.up)("ExerciseComponent");return(0,a.wg)(),(0,a.iD)("div",Di,[(0,a._)("h5",Ei,(0,n.zw)(s.title),1),(0,a._)("h6",Ti,(0,n.zw)(s.isCustom?"Custom":"Default")+", "+(0,n.zw)(s.needsEquipment?"With Equipment":"Without Equipment"),1),s.description?((0,a.wg)(),(0,a.iD)("p",Pi,(0,n.zw)(s.description),1)):(0,a.kq)("",!0),s.bodyParts?((0,a.wg)(),(0,a.iD)("div",$i,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.bodyParts,(e=>((0,a.wg)(),(0,a.iD)("span",{key:e.id},[(0,a._)("small",qi,(0,n.zw)(e.name.toLowerCase()),1),(0,a.Uk)("Â ")])))),128))])):(0,a.kq)("",!0),s.isCustom?((0,a.wg)(),(0,a.j4)(r,{key:2,link:l.generateLink(),title:"Manage",class:"mt-4"},null,8,["link"])):(0,a.kq)("",!0),s.exercises?((0,a.wg)(),(0,a.iD)("h5",Wi,"Exercises")):(0,a.kq)("",!0),s.exercises?((0,a.wg)(),(0,a.iD)("div",Ui,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.exercises,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id},[(0,a.Wm)(c,{id:e.id,title:e.title,description:e.description,bodyParts:e.bodyParts,isCustom:e.isCustom,needsEquipment:e.needsEquipment},null,8,["id","title","description","bodyParts","isCustom","needsEquipment"])])))),128))])):(0,a.kq)("",!0)])}const Ii={class:"card mb-3 me-3 exercise-card-width"},Li={class:"card-body"},zi={class:"card-title"},Mi={class:"card-subtitle mb-2 text-body-secondary"},Bi={key:0,class:"card-text"},Ai={key:1,class:"card-text"},Ni={class:"body-parts"},Fi={key:2,class:"d-flex justify-content-end mt-3 me-4"},ji={key:3,class:"d-flex justify-content-end me-4"};function Ri(e,t,s,i,o,l){const r=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",Ii,[(0,a._)("div",Li,[(0,a._)("h5",zi,(0,n.zw)(l.truncatedTitle),1),(0,a._)("h6",Mi,(0,n.zw)(s.isCustom?"Custom":"Default")+", "+(0,n.zw)(s.needsEquipment?"With Equipment":"Without Equipment"),1),s.description?((0,a.wg)(),(0,a.iD)("p",Bi,(0,n.zw)(l.truncatedDescription),1)):(0,a.kq)("",!0),s.bodyParts?((0,a.wg)(),(0,a.iD)("div",Ai,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.bodyParts,(e=>((0,a.wg)(),(0,a.iD)("span",{class:"body-parts-span",key:e.id},[(0,a._)("small",Ni,(0,n.zw)(e.name.toLowerCase()),1),(0,a.Uk)("Â ")])))),128))])):(0,a.kq)("",!0),s.isCustom?((0,a.wg)(),(0,a.iD)("div",Fi,[(0,a.Wm)(r,{to:l.generateLinkManage(),class:"btn btn-outline-secondary d-block me-3"},{default:(0,a.w5)((()=>[(0,a.Uk)("Manage")])),_:1},8,["to"]),(0,a.Wm)(r,{to:l.generateLinkDetails(),class:"btn btn-outline-secondary"},{default:(0,a.w5)((()=>[(0,a.Uk)("Details")])),_:1},8,["to"])])):((0,a.wg)(),(0,a.iD)("div",ji,[(0,a.Wm)(r,{to:l.generateLinkDetails(),class:"btn btn-outline-secondary"},{default:(0,a.w5)((()=>[(0,a.Uk)("Details")])),_:1},8,["to"])]))])])}var Hi={name:"ExerciseComponent",props:{id:Number,title:String,description:String,bodyParts:Array,isCustom:Boolean,needsEquipment:Boolean},methods:{generateLinkDetails(){return`/workouts-exercise-details/${this.isCustom?"custom":"default"}/${this.id}`},generateLinkManage(){return`/workouts-manage-exercise/${this.id}`}},computed:{truncatedTitle(){return js(this.title,23)},truncatedDescription(){return js(this.description,100)}}};const Vi=(0,C.Z)(Hi,[["render",Ri]]);var Oi=Vi,Yi={name:"WorkoutDetailsComponent",props:{id:Number,title:String,description:String,bodyParts:Array,isCustom:Boolean,needsEquipment:Boolean,exercises:Object},components:{ExerciseComponent:Oi,ButtonComponent:bi},methods:{generateLink(){return`/workouts-manage-workout/${this.id}`}}};const Zi=(0,C.Z)(Yi,[["render",Si]]);var Gi=Zi,Ki={name:"WorkoutDetailsPage",setup(){(0,L.jq)({title:"Workout Details",htmlAttrs:{lang:"en"}})},data(){return{workout:null,message:"",messageType:""}},async created(){this.$store.commit("setCurrentUrl",this.$route.path);const e=await At();if(this.$route.path.includes("default")){e?this.$store.commit("setLogged",!0):(this.$store.commit("setLogged",!1),this.messageType=me,this.message=ye);try{const e=await this.getDefaultWorkout();if(200==e.status)this.workout=e.body;else{let t="";for(const s in e.body)t+=`${s}: ${e.body[s]}. `;this.messageType=pe,this.message=t}}catch(t){this.messageType=pe,this.message=`Error: ${t}`}}if(!e&&this.$route.path.includes("custom")&&this.$router.push("/login"),e&&this.$route.path.includes("custom"))try{const t=await this.getCustomWorkout(e);if(200==t.status)this.workout=t.body;else{let e="";for(const s in t.body)e+=`${s}: ${t.body[s]}. `;this.messageType=pe,this.message=e}}catch(t){this.messageType=pe,this.message=`Error: ${t}`}},components:{BreadcrumbWorkoutsComponent:pi,WorkoutDetailsComponent:Gi,AlertComponent:Se},computed:{isUnlogged(){return this.authAlertMessage.includes("unlogged")}},methods:{async getDefaultWorkout(){let e=de+this.$route.params.id;const t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}}),s=await t.json();return{status:t.status,body:s}},async getCustomWorkout(e){let t=ce+this.$route.params.id;const s=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}}),i=await s.json();return{status:s.status,body:i}}}};const Ji=(0,C.Z)(Ki,[["render",Ci]]);var Qi=Ji;const Xi={class:"d-flex flex-column align-items-start"},ea=(0,a._)("br",null,null,-1),ta=(0,a._)("h4",{class:"mb-4 text-muted"},"Create Workout",-1),sa={class:"mb-4"},ia=(0,a._)("label",{for:"title",class:"form-label"},[(0,a.Uk)("Title"),(0,a._)("span",{class:"span-color"}," *")],-1),aa={class:"mb-4"},oa=(0,a._)("label",{for:"description",class:"form-label"},"Description",-1),la=(0,a._)("div",{class:"mb-2"},[(0,a.Uk)("Exercises"),(0,a._)("span",{class:"span-color"}," *")],-1),na={key:0,class:"d-flex flex-row flex-wrap mb-4"},ra=["id","onClick","checked"],ca=["for"],ua=(0,a._)("div",null,[(0,a._)("span",{class:"span-color"},"* "),(0,a._)("i",null,"Required fields")],-1),da=(0,a._)("button",{type:"submit",class:"btn btn-secondary mt-4"},"Create",-1),ma=(0,a._)("br",null,null,-1),pa=(0,a._)("br",null,null,-1);function ha(e,t,s,o,l,r){const c=(0,a.up)("metainfo"),u=(0,a.up)("BreadcrumbWorkoutsComponent"),d=(0,a.up)("AlertComponent");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(c,null,{title:(0,a.w5)((({content:e})=>[(0,a.Uk)((0,n.zw)(e),1)])),_:1}),(0,a._)("div",Xi,[(0,a._)("div",null,[(0,a.Wm)(u),(0,a.Wm)(d,{message:l.message,messageType:l.messageType},null,8,["message","messageType"]),ea]),ta,(0,a._)("form",{onSubmit:t[2]||(t[2]=(0,i.iM)(((...e)=>r.onSubmitForm&&r.onSubmitForm(...e)),["prevent"])),class:"mb-5 form-width"},[(0,a._)("div",sa,[ia,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":t[0]||(t[0]=e=>l.title=e),placeholder:"Enter title",required:""},null,512),[[i.nr,l.title]])]),(0,a._)("div",aa,[oa,(0,a.wy)((0,a._)("textarea",{rows:"3",class:"form-control",id:"description","onUpdate:modelValue":t[1]||(t[1]=e=>l.description=e),placeholder:"Enter description (optional)"},null,512),[[i.nr,l.description]])]),la,l.exercises&&l.exercises.length>0?((0,a.wg)(),(0,a.iD)("div",na,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.exercises,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,class:"me-2 mb-2"},[(0,a._)("input",{type:"checkbox",value:"",class:"form-check-input",id:e.title,onClick:t=>r.onClickExerciseCheckbox(e.id),checked:l.exercisesStates[e.id]},null,8,ra),(0,a._)("label",{for:e.title,class:"form-check-label"},(0,n.zw)(e.title)+" ("+(0,n.zw)(e.bodyParts.map((e=>e.name.charAt(0).toLowerCase()+e.name.slice(1))).join(", "))+") ",9,ca)])))),128))])):(0,a.kq)("",!0),ua,da,ma,pa],32)])],64)}var ga={name:"WorkoutCreatePage",setup(){(0,L.jq)({title:"Create Workout",htmlAttrs:{lang:"en"}})},data(){return{title:null,description:null,exercises:[],exerciseIds:[],exercisesStates:{},message:null,messageType:null}},components:{AlertComponent:Se,BreadcrumbWorkoutsComponent:pi},async created(){this.$store.commit("setCurrentUrl","/workouts-create-workout");const e=await At();if(e){this.$store.commit("setLogged",!0);let t=await this.getExercises(e);this.exercises=t.body.content}else this.$store.commit("setLogged",!1),this.$router.push("/login")},methods:{async onSubmitForm(){const e={title:this.title,description:this.description,exerciseIds:this.exerciseIds};if(null===this.exerciseIds||0===this.exerciseIds.length)alert("Workout should be associated with at least one exercise.");else{const t=await this.createWorkout(e);if(201===t.status)this.messageType=he,this.message=Te;else{let e="";for(const s in t.body)e+=`${s}: ${t.body[s]}. `;this.messageType=pe,this.message=e}this.title=null,this.description=null,this.exerciseIds=[],this.exercisesStates={}}},onClickExerciseCheckbox(e){if(this.exerciseIds.includes(e)){let t=this.exerciseIds.indexOf(e);this.exerciseIds.splice(t,1),delete this.exercisesStates[e]}else this.exerciseIds.push(e),this.exercisesStates[e]=!0},async createWorkout(e){let t=Bt();const s=await fetch(re,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)}),i=await s.json();return{status:s.status,body:i}},async getExercises(e){let t=X+ne;const s=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}}),i=await s.json();return{status:s.status,body:i}}}};const fa=(0,C.Z)(ga,[["render",ha]]);var ba=fa;const ya={class:"d-flex flex-column align-items-start"},wa=(0,a._)("br",null,null,-1),ka={key:0,class:"mb-4 text-muted"},_a={class:"mb-4"},xa={for:"title",class:"form-label"},va={class:"mb-4"},Ca={for:"description",class:"form-label"},Da=(0,a._)("div",{class:"mb-2"},[(0,a.Uk)("Exercises"),(0,a._)("span",{class:"span-color"}," *")],-1),Ea={key:0,class:"d-flex flex-row flex-wrap mb-4"},Ta=["id","onClick","checked"],Pa=["for"],$a=(0,a._)("button",{type:"submit",class:"btn btn-secondary mt-2"},"Update",-1),qa={key:2,class:"form-width"},Wa=(0,a._)("h4",{class:"mb-2 text-muted"},"Delete Workout",-1),Ua=(0,a._)("div",{class:"mb-2"},"Deletion of the workout will not affect associated exercises and media references.",-1),Sa={class:"d-flex"},Ia=(0,a._)("label",{for:"confirmDeletion",class:"form-check-label ms-2"},[(0,a._)("span",{class:"span-color"},"Confirm deletion. This action cannot be undone.")],-1),La=["disabled"],za=(0,a._)("br",null,null,-1);function Ma(e,t,s,o,l,r){const c=(0,a.up)("metainfo"),u=(0,a.up)("BreadcrumbWorkoutsComponent"),d=(0,a.up)("AlertComponent");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(c,null,{title:(0,a.w5)((({content:e})=>[(0,a.Uk)((0,n.zw)(e),1)])),_:1}),(0,a._)("div",ya,[(0,a._)("div",null,[(0,a.Wm)(u),(0,a.Wm)(d,{message:l.message,messageType:l.messageType},null,8,["message","messageType"]),wa]),l.isDeleted?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("h4",ka,"Update Workout")),l.isDeleted?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("form",{key:1,class:"mb-5 form-width",onSubmit:t[2]||(t[2]=(0,i.iM)(((...e)=>r.onSubmitUpdateForm&&r.onSubmitUpdateForm(...e)),["prevent"]))},[(0,a._)("div",_a,[(0,a._)("label",xa,"Current title: "+(0,n.zw)(this.titleLabel),1),(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":t[0]||(t[0]=e=>l.title=e),placeholder:"Enter new title"},null,512),[[i.nr,l.title]])]),(0,a._)("div",va,[(0,a._)("label",Ca,"Current descirption: "+(0,n.zw)(this.descriptionLabel?this.descriptionLabel:"None"),1),(0,a.wy)((0,a._)("textarea",{rows:"3",class:"form-control",id:"description","onUpdate:modelValue":t[1]||(t[1]=e=>l.description=e),placeholder:"Enter new description"},null,512),[[i.nr,l.description]])]),Da,l.allExercises&&l.allExercises.length>0?((0,a.wg)(),(0,a.iD)("div",Ea,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.allExercises,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,class:"me-2 mb-2"},[(0,a._)("input",{type:"checkbox",value:"",class:"form-check-input",id:e.title,onClick:t=>r.onClickExerciseCheckbox(e.id),checked:l.exercisesStates[e.id]},null,8,Ta),(0,a._)("label",{for:e.title,class:"form-check-label"},(0,n.zw)(e.title)+" ("+(0,n.zw)(e.bodyParts.map((e=>e.name.charAt(0).toLowerCase()+e.name.slice(1))).join(", "))+") ",9,Pa)])))),128))])):(0,a.kq)("",!0),$a],32)),l.isDeleted?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",qa,[Wa,Ua,(0,a._)("div",Sa,[(0,a.wy)((0,a._)("input",{type:"checkbox",value:"",class:"form-check-input",id:"confirmDeletion","onUpdate:modelValue":t[3]||(t[3]=e=>l.confirmDeletion=e)},null,512),[[i.e8,l.confirmDeletion]]),Ia]),(0,a._)("form",{onSubmit:t[4]||(t[4]=(0,i.iM)(((...e)=>r.onSubmitDeleteForm&&r.onSubmitDeleteForm(...e)),["prevent"])),style:{"min-width":"13rem",width:"fit-content"},class:"mb-5"},[(0,a._)("button",{disabled:!l.confirmDeletion,type:"submit",class:"btn btn-warning mt-4"},"Delete",8,La)],32),za]))])],64)}var Ba={name:"WorkoutManagePage",setup(){(0,L.jq)({title:"Manage Workout",htmlAttrs:{lang:"en"}})},data(){return{titleLabel:"",descriptionLabel:"",title:null,description:null,exercises:[],allExercises:[],exercisesIds:[],exercisesStates:{},message:"",messageType:"",isDeleted:!1,confirmDeletion:!1}},components:{AlertComponent:Se,BreadcrumbWorkoutsComponent:pi},async created(){this.$store.commit("setCurrentUrl",`/workouts-manage-workout/${this.$route.params.id}`);const e=await At();if(e){this.$store.commit("setLogged",!0);let t=await this.getWorkoutDetails(this.$route.params.id,e),s=await this.getAllExercises(e);this.allExercises=s.body.content,200===t.status?(this.titleLabel=t.body.title,this.descriptionLabel=t.body.description,this.exercises=t.body.exercises,this.exercisesIds=this.exercises.map((e=>e.id)),this.exercisesIds.forEach((e=>{this.exercisesStates[e]=!0}))):401===t.status?this.$router.push("/login"):(this.messageType=pe,this.message=`Error: ${t.body.message}`)}else this.$store.commit("setLogged",!1),this.$router.push("/login")},methods:{async onSubmitUpdateForm(){const e={title:this.title,description:this.description,exerciseIds:this.exercisesIds};if(null===this.exercisesIds||0===this.exercisesIds.length)alert("Workout should be associated with at least one exercise.");else{const t=Bt(),s=await this.updateWorkout(e,t);if(200===s.status)this.messageType=he,this.message=Pe,this.titleLabel=s.body.title,this.descriptionLabel=s.body.description,this.title=null,this.description=null,this.workout=s.body,this.exercisesIds=this.workout.exercises.map((e=>e.id));else{let e="";for(const t in s.body)e+=`${t}: ${s.body[t]}. `;this.messageType=pe,this.message=e}}},async onSubmitDeleteForm(){try{const e=Bt(),t=await this.deleteWorkout(this.$route.params.id,e);204===t.status?(this.messageType=he,this.message=$e,this.isDeleted=!0):(this.messageType=pe,this.message="Error occured")}catch(e){this.messageType=pe,this.message=`Error: ${e}`}},onClickExerciseCheckbox(e){if(this.exercisesIds.includes(e)){let t=this.exercisesIds.indexOf(e);this.exercisesIds.splice(t,1),delete this.exercisesStates[e]}else this.exercisesIds.push(e),this.exercisesStates[e]=!0},async getWorkoutDetails(e,t){let s=ce+e;const i=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}}),a=await i.json();return{status:i.status,body:a}},async getAllExercises(e){let t=X+ne;const s=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}}),i=await s.json();return{status:s.status,body:i}},async updateWorkout(e,t){let s=ce+this.$route.params.id;const i=await fetch(s,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)}),a=await i.json();return{status:i.status,body:a}},async deleteWorkout(e,t){let s=ce+e;const i=await fetch(s,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});return{status:i.status}}}};const Aa=(0,C.Z)(Ba,[["render",Ma]]);var Na=Aa;const Fa={class:"d-flex flex-column align-items-start"},ja=(0,a._)("br",null,null,-1),Ra=(0,a._)("br",null,null,-1),Ha=(0,a._)("br",null,null,-1),Va={class:"d-flex flex-row flex-wrap mb-2"},Oa={key:0,class:"form-check me-3"},Ya=(0,a._)("label",{for:"filterIsCustom",class:"form-check-label"},"Custom",-1),Za={key:1,class:"form-check me-3"},Ga=(0,a._)("label",{for:"filterIsDefault",class:"form-check-label"},"Default",-1),Ka={class:"form-check me-3"},Ja=(0,a._)("label",{for:"filterWithEquipment",class:"form-check-label"},"With equipment",-1),Qa={class:"form-check me-3"},Xa=(0,a._)("label",{for:"filterWithoutEquipment",class:"form-check-label"},"Without equipment",-1),eo={class:"d-flex flex-row flex-wrap mb-2"},to={class:"mb-2 me-3"},so={class:"mb-2 me-3"},io={key:0,class:"d-flex flex-row flex-wrap mb-2"},ao=["id","onClick","checked"],oo=["for"],lo={class:"d-flex flex-row flex-wrap mb-2"},no={class:"mb-2 me-3"},ro=(0,a._)("option",{value:null,disabled:""},"Sort by",-1),co={key:1,value:"title"},uo={key:2,value:"description"},mo={class:"mb-2 me-3"},po=(0,a._)("option",{value:null,disabled:""},"Direction",-1),ho={key:1,value:"asc"},go={key:2,value:"desc"},fo={class:"mb-2 me-3"},bo=(0,a._)("option",{value:null,disabled:""},"Page size",-1),yo={key:1,value:5},wo={key:2,value:10},ko={key:3,value:15},_o=(0,a._)("br",null,null,-1),xo={key:0,id:"totalElements",class:"text-muted mb-2"},vo={key:1,class:"d-flex flex-row flex-wrap"},Co={class:"d-flex flex-column align-items-center"},Do={"aria-label":"pagination"},Eo={class:"pagination"},To=["aria-current"],Po={key:0,class:"page-link"},$o=["onClick"];function qo(e,t,s,o,l,r){const c=(0,a.up)("metainfo"),u=(0,a.up)("BreadcrumbWorkoutsComponent"),d=(0,a.up)("AlertComponent"),m=(0,a.up)("ButtonComponent"),p=(0,a.up)("ExerciseComponent");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(c,null,{title:(0,a.w5)((({content:e})=>[(0,a.Uk)((0,n.zw)(e),1)])),_:1}),(0,a._)("div",Fa,[(0,a._)("div",null,[(0,a.Wm)(u),(0,a.Wm)(d,{message:l.message,messageType:l.messageType},null,8,["message","messageType"]),ja,(0,a.Wm)(m,{link:"/workouts-create-exercise",title:"New Exercise"}),Ra,Ha]),(0,a._)("button",{id:"filterButton",onClick:t[0]||(t[0]=(...e)=>r.onFilterToggle&&r.onFilterToggle(...e)),class:"btn btn-secondary mb-3"},(0,n.zw)(l.filterButtonText),1),(0,a._)("form",{class:(0,n.C_)(["filter-width",{"d-flex flex-column align-items-start mb-3":l.isFilterVisible,"d-none":!l.isFilterVisible}])},[(0,a._)("div",Va,[e.$store.state.isLogged?((0,a.wg)(),(0,a.iD)("div",Oa,[(0,a.wy)((0,a._)("input",{type:"checkbox",value:"",class:"form-check-input",id:"filterIsCustom","onUpdate:modelValue":t[1]||(t[1]=e=>l.filterIsCustom=e)},null,512),[[i.e8,l.filterIsCustom]]),Ya])):(0,a.kq)("",!0),e.$store.state.isLogged?((0,a.wg)(),(0,a.iD)("div",Za,[(0,a.wy)((0,a._)("input",{type:"checkbox",value:"",class:"form-check-input",id:"filterIsDefault","onUpdate:modelValue":t[2]||(t[2]=e=>l.filterIsDefault=e)},null,512),[[i.e8,l.filterIsDefault]]),Ga])):(0,a.kq)("",!0),(0,a._)("div",Ka,[(0,a.wy)((0,a._)("input",{type:"checkbox",value:"",class:"form-check-input",id:"filterWithEquipment","onUpdate:modelValue":t[3]||(t[3]=e=>l.filterWithEquipment=e)},null,512),[[i.e8,l.filterWithEquipment]]),Ja]),(0,a._)("div",Qa,[(0,a.wy)((0,a._)("input",{type:"checkbox",value:"",class:"form-check-input",id:"filterWithoutEquipment","onUpdate:modelValue":t[4]||(t[4]=e=>l.filterWithoutEquipment=e)},null,512),[[i.e8,l.filterWithoutEquipment]]),Xa])]),(0,a._)("div",eo,[(0,a._)("div",to,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"filterTitle","onUpdate:modelValue":t[5]||(t[5]=e=>l.filterTitle=e),placeholder:"Filter by title"},null,512),[[i.nr,l.filterTitle]])]),(0,a._)("div",so,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"filterDescription","onUpdate:modelValue":t[6]||(t[6]=e=>l.filterDescription=e),placeholder:"Filter by description"},null,512),[[i.nr,l.filterDescription]])])]),l.bodyParts&&l.bodyParts.length>0?((0,a.wg)(),(0,a.iD)("div",io,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.bodyParts,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,class:"me-2"},[(0,a._)("input",{type:"checkbox",value:"",class:"form-check-input",id:e.name,onClick:t=>r.onClickBodyPartCheckbox(e.id),checked:l.bodyPartsStates[e.id]},null,8,ao),(0,a._)("label",{for:e.name,class:"form-check-label"},(0,n.zw)(e.name),9,oo)])))),128))])):(0,a.kq)("",!0),(0,a._)("div",lo,[(0,a._)("div",no,[(0,a.wy)((0,a._)("select",{id:"sortField","onUpdate:modelValue":t[7]||(t[7]=e=>l.sortField=e),class:"form-select","aria-label":"sortField"},[ro,((0,a.wg)(),(0,a.iD)("option",co,"Title")),((0,a.wg)(),(0,a.iD)("option",uo,"Description"))],512),[[i.bM,l.sortField]])]),(0,a._)("div",mo,[(0,a.wy)((0,a._)("select",{id:"sortDirection","onUpdate:modelValue":t[8]||(t[8]=e=>l.sortDirection=e),class:"form-select","aria-label":"sortDirection"},[po,((0,a.wg)(),(0,a.iD)("option",ho,"Ascending")),((0,a.wg)(),(0,a.iD)("option",go,"Descending"))],512),[[i.bM,l.sortDirection]])]),(0,a._)("div",fo,[(0,a.wy)((0,a._)("select",{id:"pageSize","onUpdate:modelValue":t[9]||(t[9]=e=>l.pageSize=e),class:"form-select","aria-label":"pageSize"},[bo,((0,a.wg)(),(0,a.iD)("option",yo,"5")),((0,a.wg)(),(0,a.iD)("option",wo,"10")),((0,a.wg)(),(0,a.iD)("option",ko,"15"))],512),[[i.bM,l.pageSize]])])]),(0,a._)("div",null,[(0,a._)("button",{id:"clearButton",onClick:t[10]||(t[10]=e=>r.onClearFilter(e)),class:"btn btn-outline-secondary mb-2 me-2"},"Clear"),(0,a._)("button",{id:"applyButton",onClick:t[11]||(t[11]=e=>r.onPageRequest(e,0)),class:"btn btn-secondary mb-2"},"Apply")])],2),(0,a.Wm)(d,{message:l.filterMessage,messageType:l.filterMessageType},null,8,["message","messageType"]),_o,l.totalElements?((0,a.wg)(),(0,a.iD)("div",xo,(0,n.zw)(this.totalElements)+" found",1)):(0,a.kq)("",!0),l.entities&&l.entities.length>0?((0,a.wg)(),(0,a.iD)("div",vo,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.entities,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id},[(0,a.Wm)(p,{id:e.id,title:e.title,description:e.description,bodyParts:e.bodyParts,isCustom:e.isCustom,needsEquipment:e.needsEquipment},null,8,["id","title","description","bodyParts","isCustom","needsEquipment"])])))),128))])):(0,a.kq)("",!0)]),(0,a._)("div",Co,[(0,a._)("nav",Do,[(0,a._)("ul",Eo,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.totalPages,(e=>((0,a.wg)(),(0,a.iD)("li",{key:e,class:(0,n.C_)({"page-item":!0,active:l.pageNumber===e-1}),"aria-current":{page:l.pageNumber===e-1}},[l.pageNumber===e-1?((0,a.wg)(),(0,a.iD)("span",Po,(0,n.zw)(e),1)):((0,a.wg)(),(0,a.iD)("a",{key:1,class:"page-link",href:"",onClick:t=>r.onPageRequest(t,e-1)},(0,n.zw)(e),9,$o))],10,To)))),128))])])])],64)}var Wo={name:"ExercisesListPage",setup(){(0,L.jq)({title:"Exercises",htmlAttrs:{lang:"en"}})},data(){return{isFilterVisible:!1,filterButtonText:"Filter",entities:[],bodyParts:[],filterTitle:null,filterDescription:null,filterIsDefault:null,filterIsCustom:null,filterWithEquipment:null,filterWithoutEquipment:null,bodyPartsIds:[],bodyPartsStates:{},sortField:null,sortDirection:null,pageSize:null,isCustom:null,needsEquipment:null,content:[],totalPages:0,totalElements:null,pageNumber:0,size:null,isFirst:null,isLast:null,hasNext:null,hasPrevious:null,message:"",messageType:"",filterMessage:"",filterMessageType:""}},components:{ExerciseComponent:Oi,BreadcrumbWorkoutsComponent:pi,AlertComponent:Se,ButtonComponent:bi},async created(){this.$store.commit("setCurrentUrl","/workouts-exercises-list"),this.setIsCustom(),this.setNeedsEquipment();const e=await At();let t=await this.getBodyParts();200==t.status&&(this.bodyParts=t.body);let s=null;if(e)this.$store.commit("setLogged",!0),s=await this.getExercises(this.getUrlString(0),e),200===s.status?Array.isArray(s.body.content)&&0===s.body.content.length?(this.filterMessageType=me,this.filterMessage=ge,this.httpRefs=[],this.totalPages=0,this.pageNumber=0):(this.entities=s.body.content,this.totalPages=s.body.totalPages,this.pageNumber=s.body.number,this.totalElements=s.body.totalElements):401===s.status?this.$router.push("/login"):(this.messageType=pe,this.message=`${s.body.message} - ${s.status})`);else{this.$store.commit("setLogged",!1),this.messageType=me,this.message=ye;const e=this.getUrlString(0);s=await this.getDefaultExercises(e),200===s.status?Array.isArray(s.body.content)&&0===s.body.content.length?(this.filterMessageType=me,this.filterMessage=ge,this.entities=[],this.totalPages=0,this.pageNumber=0):(this.entities=s.body.content,this.totalPages=s.body.totalPages,this.pageNumber=s.body.number,this.totalElements=s.body.totalElements):(this.messageType=pe,this.message=`${s.body.message} - ${s.status}`)}},methods:{onFilterToggle(){this.isFilterVisible=!this.isFilterVisible,this.filterButtonText=this.isFilterVisible?"Hide Filter":"Filter"},onClearFilter(e){e.preventDefault(),this.filterWithEquipment=null,this.filterWithoutEquipment=null,this.filterTitle=null,this.filterDescription=null,this.filterIsCustom=null,this.filterIsDefault=null,this.isCustom=null,this.bodyPartsIds=[],this.sortField=null,this.sortDirection=null,this.pageSize=null,this.bodyPartsStates={}},onClickBodyPartCheckbox(e){if(this.bodyPartsIds.includes(e)){let t=this.bodyPartsIds.indexOf(e);this.bodyPartsIds.splice(t,1),delete this.bodyPartsStates[e]}else this.bodyPartsIds.push(e),this.bodyPartsStates[e]=!0},setIsCustom(){!0!==this.filterIsCustom||null!==this.filterIsDefault&&!1!==this.filterIsDefault?!0!==this.filterIsDefault||null!==this.filterIsCustom&&!1!==this.filterIsCustom?this.isCustom=null:this.isCustom=!1:this.isCustom=!0},setNeedsEquipment(){!0!==this.filterWithEquipment||null!==this.filterWithoutEquipment&&!1!==this.filterWithoutEquipment?!0!==this.filterWithoutEquipment||null!==this.filterWithEquipment&&!1!==this.filterWithEquipment?this.needsEquipment=null:this.needsEquipment=!1:this.needsEquipment=!0},getUrlString(e){let t=`?pageNumber=${e}`;if(null!==this.pageSize&&(t+=`&pageSize=${this.pageSize}`),null!==this.isCustom&&(t+=`&isCustom=${this.isCustom}`),null!=this.needsEquipment&&(t+=`&needsEquipment=${this.needsEquipment}`),null!==this.filterTitle&&""!==this.filterTitle.trim()&&(t+=`&title=${this.filterTitle.trim()}`),null!==this.filterDescription&&""!==this.filterDescription.trim()&&(t+=`&description=${this.filterDescription.trim()}`),this.bodyPartsIds&&this.bodyPartsIds.length>0){let e="&bodyPartsIds=";for(let t=0;t<this.bodyPartsIds.length;t++)e+=`${this.bodyPartsIds[t]},`;e=e.slice(0,e.length-1),t+=e}return null!==this.sortField&&(t+=`&sortField=${this.sortField}`),null!==this.sortDirection&&(t+=`&sortDirection=${this.sortDirection}`),t},async onPageRequest(e,t){e.preventDefault(),this.filterMessageType="",this.filterMessage="",this.totalElements=null,this.setIsCustom(),this.setNeedsEquipment();const s=this.getUrlString(t),i=this.$store.state.isLogged;let a=null;if(i){const e=Bt();a=await this.getExercises(s,e)}else a=await this.getDefaultExercises(s);200===a.status?Array.isArray(a.body.content)&&0===a.body.content.length?(this.filterMessageType=me,this.filterMessage=ge,this.entities=[],this.totalPages=0,this.pageNumber=0):(this.entities=a.body.content,this.totalPages=a.body.totalPages,this.pageNumber=a.body.number,this.totalElements=a.body.totalElements):401===a.status?this.$router.push("/login"):(this.messageType=pe,this.message=`Error: ${a.body.message}`)},async getDefaultExercises(e){let t=te+e;const s=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}}),i=await s.json();return{status:s.status,body:i}},async getExercises(e,t){let s=X+e;const i=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}}),a=await i.json();return{status:i.status,body:a}},async getBodyParts(){const e=await fetch(ie,{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();return{status:e.status,body:t}}}};const Uo=(0,C.Z)(Wo,[["render",qo]]);var So=Uo;const Io={class:"d-flex flex-column align-items-start"},Lo=(0,a._)("br",null,null,-1),zo={key:0,class:"w-100"};function Mo(e,t,s,i,o,l){const r=(0,a.up)("metainfo"),c=(0,a.up)("BreadcrumbWorkoutsComponent"),u=(0,a.up)("AlertComponent"),d=(0,a.up)("ExerciseDetailsComponent");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r,null,{title:(0,a.w5)((({content:e})=>[(0,a.Uk)((0,n.zw)(e),1)])),_:1}),(0,a._)("div",Io,[(0,a.Wm)(c),(0,a.Wm)(u,{message:o.message,messageType:o.messageType},null,8,["message","messageType"]),(0,a.Uk)(),Lo,o.exercise?((0,a.wg)(),(0,a.iD)("div",zo,[(0,a.Wm)(d,{id:o.exercise.id,title:o.exercise.title,description:o.exercise.description,bodyParts:o.exercise.bodyParts,isCustom:o.exercise.isCustom,needsEquipment:o.exercise.needsEquipment,httpRefs:o.exercise.httpRefs},null,8,["id","title","description","bodyParts","isCustom","needsEquipment","httpRefs"])])):(0,a.kq)("",!0)])],64)}const Bo={class:"w-100"},Ao={class:"card-body"},No={class:"card-title mb-3"},Fo={class:"card-subtitle text-body-secondary mb-2"},jo={key:0,class:"card-text description-width",style:{"font-style":"italic","text-align":"justify","word-wrap":"break-word"}},Ro={key:1,class:"card-text"},Ho={class:"body-parts"},Vo={key:1,class:"text-secondary mb-4 mt-5"},Oo={key:2,class:"d-flex flex-row flex-wrap"};function Yo(e,t,s,i,o,l){const r=(0,a.up)("ButtonComponent"),c=(0,a.up)("MediaComponent");return(0,a.wg)(),(0,a.iD)("div",Bo,[(0,a._)("div",Ao,[(0,a._)("h5",No,(0,n.zw)(s.title),1),(0,a._)("h6",Fo,(0,n.zw)(s.isCustom?"Custom":"Default")+", "+(0,n.zw)(s.needsEquipment?"With Equipment":"Without Equipment"),1),s.description?((0,a.wg)(),(0,a.iD)("p",jo,(0,n.zw)(s.description),1)):(0,a.kq)("",!0),s.bodyParts?((0,a.wg)(),(0,a.iD)("div",Ro,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.bodyParts,(e=>((0,a.wg)(),(0,a.iD)("span",{key:e.id},[(0,a._)("small",Ho,(0,n.zw)(e.name.toLowerCase()),1),(0,a.Uk)("Â ")])))),128))])):(0,a.kq)("",!0)]),s.isCustom?((0,a.wg)(),(0,a.j4)(r,{key:0,link:l.generateLink(),title:"Manage",class:"mt-4"},null,8,["link"])):(0,a.kq)("",!0),s.httpRefs&&s.httpRefs.length>0?((0,a.wg)(),(0,a.iD)("h5",Vo,"Media")):(0,a.kq)("",!0),s.httpRefs&&s.httpRefs.length>0?((0,a.wg)(),(0,a.iD)("div",Oo,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.httpRefs,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id},[(0,a.Wm)(c,{id:e.id,name:e.name,description:e.description,isCustom:e.isCustom,httpRef:e.ref},null,8,["id","name","description","isCustom","httpRef"])])))),128))])):(0,a.kq)("",!0)])}const Zo={class:"card mb-3 me-3 http-ref-card-width"},Go={class:"card-body"},Ko={class:"card-title"},Jo={class:"card-subtitle mb-2 text-body-secondary"},Qo={key:0,class:"card-text"},Xo={key:1,class:"d-flex justify-content-end mt-3 me-4"},el=["href"],tl=["href"],sl={key:2,class:"d-flex justify-content-end me-4"},il=["href"];function al(e,t,s,i,o,l){return(0,a.wg)(),(0,a.iD)("div",Zo,[(0,a._)("div",Go,[(0,a._)("h5",Ko,(0,n.zw)(l.truncatedName),1),(0,a._)("h6",Jo,(0,n.zw)(s.isCustom?"Custom":"Default"),1),s.description?((0,a.wg)(),(0,a.iD)("p",Qo,(0,n.zw)(l.truncatedDescription),1)):(0,a.kq)("",!0),s.isCustom?((0,a.wg)(),(0,a.iD)("div",Xo,[(0,a._)("a",{href:l.generateLink(),class:"btn btn-outline-secondary d-block me-3"},"Manage",8,el),(0,a._)("a",{href:s.httpRef,class:"btn btn-outline-secondary",target:"_blank"},"Visit",8,tl)])):((0,a.wg)(),(0,a.iD)("div",sl,[(0,a._)("a",{href:s.httpRef,class:"btn btn-outline-secondary",target:"_blank"},"Visit",8,il)]))])])}var ol={name:"ExerciseComponent",props:{id:Number,name:String,httpRef:String,description:String,isCustom:Boolean},methods:{generateLink(){return this.isCustom?`/workouts-manage-media/${this.id}`:"/"}},computed:{truncatedName(){return js(this.name,23)},truncatedDescription(){return js(this.description,100)}}};const ll=(0,C.Z)(ol,[["render",al]]);var nl=ll,rl={name:"ExerciseDetailsComponent",props:{id:Number,title:String,description:String,bodyParts:Array,isCustom:Boolean,needsEquipment:Boolean,httpRefs:Object},components:{MediaComponent:nl,ButtonComponent:bi},methods:{generateLink(){return this.isCustom?`/workouts-manage-exercise/${this.id}`:"/"}}};const cl=(0,C.Z)(rl,[["render",Yo]]);var ul=cl,dl={name:"ExerciseDetailsPage",setup(){(0,L.jq)({title:"Exercise Details",htmlAttrs:{lang:"en"}})},data(){return{exercise:null,message:"",messageType:""}},async created(){this.$store.commit("setCurrentUrl",this.$route.path);const e=await At();if(this.$route.path.includes("default")){e?this.$store.commit("setLogged",!0):(this.$store.commit("setLogged",!1),this.messageType=me,this.message=ye);try{const e=await this.getDefaultExercise();if(200==e.status)this.exercise=e.body;else{let t="";for(const s in e.body)t+=`${s}: ${e.body[s]}. `;this.messageType=pe,this.message=t}}catch(t){this.messageType=pe,this.message=`Error: ${t}`}}if(!e&&this.$route.path.includes("custom")&&this.$router.push("/login"),e&&this.$route.path.includes("custom"))try{const t=await this.getCustomExercise(e);if(200==t.status)this.exercise=t.body;else{let e="";for(const s in t.body)e+=`${s}: ${t.body[s]}. `;this.messageType=pe,this.message=e}}catch(t){this.messageType=pe,this.message=`Error: ${t}`}},components:{BreadcrumbWorkoutsComponent:pi,ExerciseDetailsComponent:ul,AlertComponent:Se},methods:{async getDefaultExercise(){let e=se+this.$route.params.id;const t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}}),s=await t.json();return{status:t.status,body:s}},async getCustomExercise(e){let t=ee+this.$route.params.id;const s=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}}),i=await s.json();return{status:s.status,body:i}}}};const ml=(0,C.Z)(dl,[["render",Mo]]);var pl=ml;const hl={class:"d-flex flex-column align-items-start"},gl=(0,a._)("br",null,null,-1),fl=(0,a._)("h4",{class:"mb-4 text-muted"},"Create Exercise",-1),bl={class:"mb-4"},yl=(0,a._)("label",{for:"title",class:"form-label"},[(0,a.Uk)("Title"),(0,a._)("span",{class:"span-color"}," *")],-1),wl={class:"mb-4"},kl=(0,a._)("label",{for:"description",class:"form-label"},"Description",-1),_l={class:"form-check mb-4"},xl=(0,a._)("label",{for:"needsEquipment",class:"form-check-label"},"Needs Equipment",-1),vl=(0,a._)("div",{class:"mb-2"},[(0,a.Uk)("Body parts"),(0,a._)("span",{class:"span-color"}," *")],-1),Cl={key:0,class:"d-flex flex-row flex-wrap mb-4"},Dl=["id","onClick","checked"],El=["for"],Tl=(0,a._)("div",{class:"mb-2"},"Media references (optional)",-1),Pl={key:1,class:"d-flex flex-row flex-wrap mb-4"},$l=["id","onClick","checked"],ql=["for"],Wl=(0,a._)("div",null,[(0,a._)("span",{class:"span-color"},"* "),(0,a._)("i",null,"Required fields")],-1),Ul=(0,a._)("button",{type:"submit",class:"btn btn-secondary mt-4"},"Create",-1),Sl=(0,a._)("br",null,null,-1),Il=(0,a._)("br",null,null,-1);function Ll(e,t,s,o,l,r){const c=(0,a.up)("metainfo"),u=(0,a.up)("BreadcrumbWorkoutsComponent"),d=(0,a.up)("AlertComponent");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(c,null,{title:(0,a.w5)((({content:e})=>[(0,a.Uk)((0,n.zw)(e),1)])),_:1}),(0,a._)("div",hl,[(0,a._)("div",null,[(0,a.Wm)(u),(0,a.Wm)(d,{message:l.message,messageType:l.messageType},null,8,["message","messageType"]),gl]),fl,(0,a._)("form",{onSubmit:t[3]||(t[3]=(0,i.iM)(((...e)=>r.onSubmitForm&&r.onSubmitForm(...e)),["prevent"])),class:"mb-5 form-width"},[(0,a._)("div",bl,[yl,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":t[0]||(t[0]=e=>l.title=e),placeholder:"Enter title",required:""},null,512),[[i.nr,l.title]])]),(0,a._)("div",wl,[kl,(0,a.wy)((0,a._)("textarea",{rows:"3",class:"form-control",id:"description","onUpdate:modelValue":t[1]||(t[1]=e=>l.description=e),placeholder:"Enter description (optional)"},"\r\n                ",512),[[i.nr,l.description]])]),(0,a._)("div",_l,[(0,a.wy)((0,a._)("input",{type:"checkbox",value:"",class:"form-check-input",id:"needsEquipment","onUpdate:modelValue":t[2]||(t[2]=e=>l.needsEquipment=e)},null,512),[[i.e8,l.needsEquipment]]),xl]),vl,l.bodyParts&&l.bodyParts.length>0?((0,a.wg)(),(0,a.iD)("div",Cl,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.bodyParts,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,class:"me-2"},[(0,a._)("input",{type:"checkbox",value:"",class:"form-check-input",id:e.name,onClick:t=>r.onClickBodyPartCheckbox(e.id),checked:l.bodyPartsStates[e.id]},null,8,Dl),(0,a._)("label",{for:e.name,class:"form-check-label"},(0,n.zw)(e.name),9,El)])))),128))])):(0,a.kq)("",!0),Tl,l.httpRefs&&l.httpRefs.length>0?((0,a.wg)(),(0,a.iD)("div",Pl,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.httpRefs,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,class:"me-4 mb-2"},[(0,a._)("input",{type:"checkbox",value:"",class:"form-check-input",id:e.name,onClick:t=>r.onClickHttpRefCheckbox(e.id),checked:l.httpRefsStates[e.id]},null,8,$l),(0,a._)("label",{for:e.name,class:"form-check-label"},(0,n.zw)(e.name),9,ql)])))),128))])):(0,a.kq)("",!0),Wl,Ul,Sl,Il],32)])],64)}var zl={name:"ExerciseCreatePage",setup(){(0,L.jq)({title:"Create Exercise",htmlAttrs:{lang:"en"}})},data(){return{title:"",description:"",bodyPartIds:[],httpRefIds:[],needsEquipment:!1,message:"",messageType:"",bodyParts:[],bodyPartsStates:{},httpRefs:[],httpRefsStates:{}}},components:{AlertComponent:Se,BreadcrumbWorkoutsComponent:pi},async created(){this.$store.commit("setCurrentUrl","/workouts-create-exercise");const e=await At();if(e){this.$store.commit("setLogged",!0);let e=await this.getBodyParts();this.bodyParts=e.body;let t=await this.getHttpRefs();this.httpRefs=t.body.content}else this.$store.commit("setLogged",!1),this.$router.push("/login")},methods:{async onSubmitForm(){const e={title:this.title,description:this.description,needsEquipment:this.needsEquipment,bodyParts:this.bodyPartIds,httpRefs:this.httpRefIds};if(null===this.bodyPartIds||0===this.bodyPartIds.length)alert("Exercise should be associated with at least one body part.");else{const t=await this.createExercise(e);if(201===t.status)this.messageType=he,this.message=_e;else{let e="";for(const s in t.body)e+=`${s}: ${t.body[s]}. `;this.messageType=pe,this.message=e}this.title="",this.description="",this.bodyPartIds=[],this.httpRefIds=[],this.needsEquipment=!1,this.bodyPartsStates={},this.httpRefsStates={}}},onClickBodyPartCheckbox(e){if(this.bodyPartIds.includes(e)){let t=this.bodyPartIds.indexOf(e);this.bodyPartIds.splice(t,1),delete this.bodyPartsStates[e]}else this.bodyPartIds.push(e),this.bodyPartsStates[e]=!0},onClickHttpRefCheckbox(e){if(this.httpRefIds.includes(e)){let t=this.httpRefIds.indexOf(e);this.httpRefIds.splice(t,1),delete this.httpRefsStates[e]}else this.httpRefIds.push(e),this.httpRefsStates[e]=!0},async createExercise(e){let t=Bt();const s=await fetch(X,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)}),i=await s.json();return{status:s.status,body:i}},async getBodyParts(){const e=await fetch(ie,{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();return{status:e.status,body:t}},async getHttpRefs(){let e=Bt();const t=await fetch(ae+ne,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}}),s=await t.json();return{status:t.status,body:s}}}};const Ml=(0,C.Z)(zl,[["render",Ll]]);var Bl=Ml;const Al={class:"d-flex flex-column align-items-start"},Nl=(0,a._)("br",null,null,-1),Fl={key:0,class:"mb-4 text-muted"},jl={class:"mb-4"},Rl={for:"title",class:"form-label"},Hl={class:"mb-4"},Vl={for:"description",class:"form-label"},Ol={class:"form-check mb-4"},Yl=(0,a._)("label",{for:"needsEquipment",class:"form-check-label"},"Needs Equipment",-1),Zl=(0,a._)("div",{class:"mb-2"},"Body parts",-1),Gl={key:0,class:"d-flex flex-row flex-wrap mb-4"},Kl=["id","onClick","checked"],Jl=["for"],Ql=(0,a._)("div",{class:"mb-2"},"Media references",-1),Xl={key:1,class:"d-flex flex-row flex-wrap mb-4"},en=["id","onClick","checked"],tn=["for"],sn=(0,a._)("button",{type:"submit",class:"btn btn-secondary mt-2"},"Update",-1),an={key:2,class:"form-width"},on=(0,a._)("h4",{class:"mb-2 text-muted"},"Delete Exercise",-1),ln=(0,a._)("div",{class:"mb-2"},"Deletion of the exercise will not affect associated workouts and media references.",-1),nn={class:"d-flex"},rn=(0,a._)("label",{for:"confirmDeletion",class:"form-check-label ms-2"},[(0,a._)("span",{class:"span-color"},"Confirm deletion. This action cannot be undone.")],-1),cn=["disabled"],un=(0,a._)("br",null,null,-1);function dn(e,t,s,o,l,r){const c=(0,a.up)("metainfo"),u=(0,a.up)("BreadcrumbWorkoutsComponent"),d=(0,a.up)("AlertComponent");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(c,null,{title:(0,a.w5)((({content:e})=>[(0,a.Uk)((0,n.zw)(e),1)])),_:1}),(0,a._)("div",Al,[(0,a._)("div",null,[(0,a.Wm)(u),(0,a.Wm)(d,{message:l.message,messageType:l.messageType},null,8,["message","messageType"]),Nl]),l.isDeleted?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("h4",Fl,"Update Exercise")),l.isDeleted?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("form",{key:1,class:"mb-5 form-width",onSubmit:t[4]||(t[4]=(0,i.iM)(((...e)=>r.onSubmitUpdateForm&&r.onSubmitUpdateForm(...e)),["prevent"]))},[(0,a._)("div",jl,[(0,a._)("label",Rl,"Current title: "+(0,n.zw)(this.titleLabel),1),(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":t[0]||(t[0]=e=>l.title=e),placeholder:"Enter new title"},null,512),[[i.nr,l.title]])]),(0,a._)("div",Hl,[(0,a._)("label",Vl,"Current descirption: "+(0,n.zw)(this.descriptionLabel?this.descriptionLabel:"None"),1),(0,a.wy)((0,a._)("textarea",{rows:"3",class:"form-control",id:"description","onUpdate:modelValue":t[1]||(t[1]=e=>l.description=e),placeholder:"Enter new description"},null,512),[[i.nr,l.description]])]),(0,a._)("div",Ol,[(0,a.wy)((0,a._)("input",{type:"checkbox",value:"",class:"form-check-input",id:"needsEquipment","onUpdate:modelValue":t[2]||(t[2]=e=>l.needsEquipment=e),onChange:t[3]||(t[3]=(...e)=>r.onNeedsEquipmentCheckboxChange&&r.onNeedsEquipmentCheckboxChange(...e))},null,544),[[i.e8,l.needsEquipment]]),Yl]),Zl,l.exerciseBodyParts&&l.exerciseBodyParts.length>0?((0,a.wg)(),(0,a.iD)("div",Gl,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.exerciseBodyParts,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,class:"me-2"},[(0,a._)("input",{type:"checkbox",value:"",class:"form-check-input",id:e.name,onClick:t=>r.onClickBodyPartCheckbox(e.id),checked:l.bodyPartsStates[e.id]},null,8,Kl),(0,a._)("label",{for:e.name,class:"form-check-label"},(0,n.zw)(e.name),9,Jl)])))),128))])):(0,a.kq)("",!0),Ql,l.exerciseHttpRefs&&l.exerciseHttpRefs.length>0?((0,a.wg)(),(0,a.iD)("div",Xl,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.exerciseHttpRefs,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,class:"me-2 mb-2"},[(0,a._)("input",{type:"checkbox",value:"",class:"form-check-input",id:e.name,onClick:t=>r.onClickHttpRefCheckbox(e.id),checked:l.httpRefsStates[e.id]},null,8,en),(0,a._)("label",{for:e.name,class:"form-check-label"},(0,n.zw)(e.name),9,tn)])))),128))])):(0,a.kq)("",!0),sn],32)),l.isDeleted?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",an,[on,ln,(0,a._)("div",nn,[(0,a.wy)((0,a._)("input",{type:"checkbox",value:"",class:"form-check-input",id:"confirmDeletion","onUpdate:modelValue":t[5]||(t[5]=e=>l.confirmDeletion=e)},null,512),[[i.e8,l.confirmDeletion]]),rn]),(0,a._)("form",{onSubmit:t[6]||(t[6]=(0,i.iM)(((...e)=>r.onSubmitDeleteForm&&r.onSubmitDeleteForm(...e)),["prevent"])),style:{"min-width":"13rem",width:"fit-content"},class:"mb-5"},[(0,a._)("button",{disabled:!l.confirmDeletion,type:"submit",class:"btn btn-warning mt-4"},"Delete",8,cn)],32),un]))])],64)}var mn={name:"ExerciseManagePage",setup(){(0,L.jq)({title:"Manage Exercise",htmlAttrs:{lang:"en"}})},data(){return{titleLabel:"",descriptionLabel:"",title:null,description:null,needsEquipment:null,exerciseBodyParts:[],exerciseHttpRefs:[],allBodyParts:[],allHttpRefs:[],needsEquipmentChanged:!1,bodyPartIds:[],httpRefIds:[],bodyPartsStates:{},httpRefsStates:{},message:"",messageType:"",isDeleted:!1,confirmDeletion:!1}},components:{AlertComponent:Se,BreadcrumbWorkoutsComponent:pi},async created(){this.$store.commit("setCurrentUrl",`/workouts-manage-exercise/${this.$route.params.id}`);const e=await At();if(e){this.$store.commit("setLogged",!0),await this.getExerciseDetails(this.$route.params.id);let e=await this.getBodyParts();this.allBodyParts=e.body;let t=await this.getHttpRefs();this.allHttpRefs=t.body.content,this.exerciseBodyParts=this.exerciseBodyParts.concat(this.allBodyParts.filter((e=>!this.exerciseBodyParts.some((t=>t.id===e.id))))),this.exerciseHttpRefs=this.exerciseHttpRefs.concat(this.allHttpRefs.filter((e=>!this.exerciseHttpRefs.some((t=>t.id===e.id)))))}else this.$store.commit("setLogged",!1),this.$router.push("/login")},methods:{async onSubmitUpdateForm(){const e={title:this.title,description:this.description,needsEquipment:this.needsEquipmentChanged?this.needsEquipment:null,bodyPartIds:this.bodyPartIds,httpRefIds:this.httpRefIds};if(null===this.bodyPartIds||0===this.bodyPartIds.length)alert("Exercise should be associated with at least one body part.");else{const t=await this.updateExercise(e);if(200===t.status)this.messageType=he,this.message=xe,this.titleLabel=t.body.title,this.descriptionLabel=t.body.description,this.title=null,this.description=null,this.needsEquipment=t.body.needsEquipment,this.needsEquipmentChanged=!1,this.exerciseBodyParts=t.body.bodyParts,this.exerciseHttpRefs=t.body.httpRefs,this.bodyPartIds=this.exerciseBodyParts.map((e=>e.id)),this.httpRefIds=this.exerciseHttpRefs.map((e=>e.id)),this.exerciseBodyParts=this.exerciseBodyParts.concat(this.allBodyParts.filter((e=>!this.exerciseBodyParts.some((t=>t.id===e.id))))),this.exerciseHttpRefs=this.exerciseHttpRefs.concat(this.allHttpRefs.filter((e=>!this.exerciseHttpRefs.some((t=>t.id===e.id)))));else{let e="";for(const s in t.body)e+=`${s}: ${t.body[s]}. `;this.messageType=pe,this.message=e}}},async onSubmitDeleteForm(){try{const e=await this.deleteExercise(this.$route.params.id);204===e.status?(this.messageType=he,this.message=ve,this.isDeleted=!0):(this.messageType=pe,this.message="Error occured")}catch(e){this.messageType=pe,this.message=`Error: ${e}`}},onNeedsEquipmentCheckboxChange(){this.needsEquipmentChanged=!this.needsEquipmentChanged},onClickBodyPartCheckbox(e){if(this.bodyPartIds.includes(e)){let t=this.bodyPartIds.indexOf(e);this.bodyPartIds.splice(t,1),delete this.bodyPartsStates[e]}else this.bodyPartIds.push(e),this.bodyPartsStates[e]=!0},onClickHttpRefCheckbox(e){if(this.httpRefIds.includes(e)){let t=this.httpRefIds.indexOf(e);this.httpRefIds.splice(t,1),delete this.httpRefsStates[e]}else this.httpRefIds.push(e),this.httpRefsStates[e]=!0},async getExerciseDetails(e){let t=ee+e,s=Bt();const i=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}}),a=await i.json();this.titleLabel=a.title,this.descriptionLabel=a.description,this.needsEquipment=a.needsEquipment,this.exerciseBodyParts=a.bodyParts,this.exerciseHttpRefs=a.httpRefs,this.bodyPartIds=this.exerciseBodyParts.map((e=>e.id)),this.httpRefIds=this.exerciseHttpRefs.map((e=>e.id)),this.bodyPartIds.forEach((e=>{this.bodyPartsStates[e]=!0})),this.httpRefIds.forEach((e=>{this.httpRefsStates[e]=!0}))},async getBodyParts(){const e=await fetch(ie,{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();return{status:e.status,body:t}},async getHttpRefs(){let e=ae+ne,t=Bt();const s=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}}),i=await s.json();return{status:s.status,body:i}},async updateExercise(e){let t=ee+this.$route.params.id,s=Bt();const i=await fetch(t,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(e)}),a=await i.json();return{status:i.status,body:a}},async deleteExercise(e){let t=ee+e,s=Bt();const i=await fetch(t,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}});return{status:i.status}}}};const pn=(0,C.Z)(mn,[["render",dn]]);var hn=pn;const gn={class:"d-flex flex-column align-items-start"},fn=(0,a._)("br",null,null,-1),bn=(0,a._)("br",null,null,-1),yn=(0,a._)("br",null,null,-1),wn={class:"d-flex flex-row flex-wrap mb-2"},kn={key:0,class:"form-check me-3"},_n=(0,a._)("label",{for:"isCustom",class:"form-check-label"},"Custom",-1),xn={key:1,class:"form-check me-3"},vn=(0,a._)("label",{for:"isDefault",class:"form-check-label"},"Default",-1),Cn={class:"d-flex flex-row flex-wrap mb-2"},Dn={class:"mb-2 me-3"},En={class:"mb-2 me-3"},Tn={class:"d-flex flex-row flex-wrap mb-2"},Pn={class:"mb-2 me-3"},$n=(0,a._)("option",{value:null,disabled:""},"Sort by",-1),qn={key:1,value:"name"},Wn={key:2,value:"description"},Un={class:"mb-2 me-3"},Sn=(0,a._)("option",{value:null,disabled:""},"Direction",-1),In={key:1,value:"asc"},Ln={key:2,value:"desc"},zn={class:"mb-2 me-3"},Mn=(0,a._)("option",{value:null,disabled:""},"Page size",-1),Bn={key:1,value:5},An={key:2,value:10},Nn={key:3,value:15},Fn=(0,a._)("br",null,null,-1),jn={key:0,id:"totalElements",class:"text-muted mb-2"},Rn={key:1,class:"d-flex flex-row flex-wrap"},Hn={class:"d-flex flex-column align-items-center"},Vn={"aria-label":"pagination"},On={class:"pagination"},Yn=["aria-current"],Zn={key:0,class:"page-link"},Gn=["onClick"];function Kn(e,t,s,o,l,r){const c=(0,a.up)("metainfo"),u=(0,a.up)("BreadcrumbWorkoutsComponent"),d=(0,a.up)("AlertComponent"),m=(0,a.up)("ButtonComponent"),p=(0,a.up)("MediaComponent");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(c,null,{title:(0,a.w5)((({content:e})=>[(0,a.Uk)((0,n.zw)(e),1)])),_:1}),(0,a._)("div",gn,[(0,a._)("div",null,[(0,a.Wm)(u),(0,a.Wm)(d,{message:l.message,messageType:l.messageType},null,8,["message","messageType"]),fn,(0,a.Wm)(m,{link:"/workouts-create-media",title:"New Media"}),bn,yn]),(0,a._)("button",{id:"filterButton",onClick:t[0]||(t[0]=(...e)=>r.onFilterToggle&&r.onFilterToggle(...e)),class:"btn btn-secondary mb-3"},(0,n.zw)(l.filterButtonText),1),(0,a._)("form",{class:(0,n.C_)(["filter-width",{"d-flex flex-column align-items-start mb-3":l.isFilterVisible,"d-none":!l.isFilterVisible}])},[(0,a._)("div",wn,[e.$store.state.isLogged?((0,a.wg)(),(0,a.iD)("div",kn,[(0,a.wy)((0,a._)("input",{type:"checkbox",value:"",class:"form-check-input",id:"isCustom","onUpdate:modelValue":t[1]||(t[1]=e=>l.filterIsCustom=e)},null,512),[[i.e8,l.filterIsCustom]]),_n])):(0,a.kq)("",!0),e.$store.state.isLogged?((0,a.wg)(),(0,a.iD)("div",xn,[(0,a.wy)((0,a._)("input",{type:"checkbox",value:"",class:"form-check-input",id:"isDefault","onUpdate:modelValue":t[2]||(t[2]=e=>l.filterIsDefault=e)},null,512),[[i.e8,l.filterIsDefault]]),vn])):(0,a.kq)("",!0)]),(0,a._)("div",Cn,[(0,a._)("div",Dn,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"filterName","onUpdate:modelValue":t[3]||(t[3]=e=>l.filterName=e),placeholder:"Filter by name"},null,512),[[i.nr,l.filterName]])]),(0,a._)("div",En,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"filterDescription","onUpdate:modelValue":t[4]||(t[4]=e=>l.filterDescription=e),placeholder:"Filter by description"},null,512),[[i.nr,l.filterDescription]])])]),(0,a._)("div",Tn,[(0,a._)("div",Pn,[(0,a.wy)((0,a._)("select",{id:"sortField","onUpdate:modelValue":t[5]||(t[5]=e=>l.sortField=e),class:"form-select","aria-label":"sortField"},[$n,((0,a.wg)(),(0,a.iD)("option",qn,"Name")),((0,a.wg)(),(0,a.iD)("option",Wn,"Description"))],512),[[i.bM,l.sortField]])]),(0,a._)("div",Un,[(0,a.wy)((0,a._)("select",{id:"sortDirection","onUpdate:modelValue":t[6]||(t[6]=e=>l.sortDirection=e),class:"form-select","aria-label":"sortDirection"},[Sn,((0,a.wg)(),(0,a.iD)("option",In,"Ascending")),((0,a.wg)(),(0,a.iD)("option",Ln,"Descending"))],512),[[i.bM,l.sortDirection]])]),(0,a._)("div",zn,[(0,a.wy)((0,a._)("select",{id:"pageSize","onUpdate:modelValue":t[7]||(t[7]=e=>l.pageSize=e),class:"form-select","aria-label":"pageSize"},[Mn,((0,a.wg)(),(0,a.iD)("option",Bn,"5")),((0,a.wg)(),(0,a.iD)("option",An,"10")),((0,a.wg)(),(0,a.iD)("option",Nn,"15"))],512),[[i.bM,l.pageSize]])])]),(0,a._)("div",null,[(0,a._)("button",{id:"clearButton",onClick:t[8]||(t[8]=e=>r.onClearFilter(e)),class:"btn btn-outline-secondary mb-2 me-2"},"Clear"),(0,a._)("button",{id:"applyButton",onClick:t[9]||(t[9]=e=>r.onPageRequest(e,0)),class:"btn btn-secondary mb-2"},"Apply")])],2),(0,a.Wm)(d,{message:l.filterMessage,messageType:l.filterMessageType},null,8,["message","messageType"]),Fn,l.totalElements?((0,a.wg)(),(0,a.iD)("div",jn,(0,n.zw)(this.totalElements)+" found",1)):(0,a.kq)("",!0),l.entities&&l.entities.length>0?((0,a.wg)(),(0,a.iD)("div",Rn,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.entities,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id},[(0,a.Wm)(p,{id:e.id,name:e.name,description:e.description,isCustom:e.isCustom,httpRef:e.ref},null,8,["id","name","description","isCustom","httpRef"])])))),128))])):(0,a.kq)("",!0)]),(0,a._)("div",Hn,[(0,a._)("nav",Vn,[(0,a._)("ul",On,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.totalPages,(e=>((0,a.wg)(),(0,a.iD)("li",{key:e,class:(0,n.C_)({"page-item":!0,active:l.pageNumber===e-1}),"aria-current":{page:l.pageNumber===e-1}},[l.pageNumber===e-1?((0,a.wg)(),(0,a.iD)("span",Zn,(0,n.zw)(e),1)):((0,a.wg)(),(0,a.iD)("a",{key:1,class:"page-link",href:"",onClick:t=>r.onPageRequest(t,e-1)},(0,n.zw)(e),9,Gn))],10,Yn)))),128))])])])],64)}var Jn={name:"MediasListPage",setup(){(0,L.jq)({title:"Media",htmlAttrs:{lang:"en"}})},data(){return{isFilterVisible:!1,filterButtonText:"Filter",entities:[],filterName:null,filterDescription:null,filterIsDefault:null,filterIsCustom:null,sortField:null,sortDirection:null,pageSize:null,isCustom:null,content:[],totalPages:0,totalElements:null,pageNumber:0,size:null,isFirst:null,isLast:null,hasNext:null,hasPrevious:null,message:"",messageType:"",filterMessage:"",filterMessageType:""}},components:{MediaComponent:nl,BreadcrumbWorkoutsComponent:pi,AlertComponent:Se,ButtonComponent:bi},async created(){this.$store.commit("setCurrentUrl","/workouts-media-list"),this.setIsCustom();const e=await At();let t=null;if(e)this.$store.commit("setLogged",!0),t=await this.getHttpRefs(this.getUrlString(0),e),200===t.status?Array.isArray(t.body.content)&&0===t.body.content.length?(this.filterMessageType=me,this.filterMessage=ge,this.entities=[],this.totalPages=0,this.pageNumber=0):(this.entities=t.body.content,this.totalPages=t.body.totalPages,this.pageNumber=t.body.number,this.totalElements=t.body.totalElements):401===t.status?this.$router.push("/login"):(this.messageType=pe,this.message=`Error: ${t.body.message}`);else{this.$store.commit("setLogged",!1),this.messageType=me,this.message=ye;const e=this.getUrlString(0);t=await this.getDefaultHttpRefs(e),200===t.status?Array.isArray(t.body.content)&&0===t.body.content.length?(this.filterMessageType=me,this.filterMessage=ge,this.entities=[],this.totalPages=0,this.pageNumber=0):(this.entities=t.body.content,this.totalPages=t.body.totalPages,this.pageNumber=t.body.number,this.totalElements=t.body.totalElements):(this.messageType=pe,this.message=`Error: ${t.body.message}`)}},methods:{onFilterToggle(){this.isFilterVisible=!this.isFilterVisible,this.filterButtonText=this.isFilterVisible?"Hide Filter":"Filter"},onClearFilter(e){e.preventDefault(),this.filterName=null,this.filterDescription=null,this.filterIsCustom=null,this.filterIsDefault=null,this.isCustom=null,this.sortField=null,this.sortDirection=null,this.pageSize=null},setIsCustom(){!0!==this.filterIsCustom||null!==this.filterIsDefault&&!1!==this.filterIsDefault?!0!==this.filterIsDefault||null!==this.filterIsCustom&&!1!==this.filterIsCustom?this.isCustom=null:this.isCustom=!1:this.isCustom=!0},getUrlString(e){let t=`?pageNumber=${e}`;return null!==this.pageSize&&(t+=`&pageSize=${this.pageSize}`),null!==this.isCustom&&(t+=`&isCustom=${this.isCustom}`),null!==this.filterName&&""!==this.filterName.trim()&&(t+=`&name=${this.filterName.trim()}`),null!==this.filterDescription&&""!==this.filterDescription.trim()&&(t+=`&description=${this.filterDescription.trim()}`),null!==this.sortField&&(t+=`&sortField=${this.sortField}`),null!==this.sortDirection&&(t+=`&sortDirection=${this.sortDirection}`),t},async onPageRequest(e,t){e.preventDefault(),this.filterMessageType="",this.filterMessage="",this.totalElements=null,this.setIsCustom();const s=this.getUrlString(t),i=this.$store.state.isLogged;let a=null;if(i){const e=Bt();a=await this.getHttpRefs(s,e)}else a=await this.getDefaultHttpRefs(s);200===a.status?Array.isArray(a.body.content)&&0===a.body.content.length?(this.filterMessageType=me,this.filterMessage=ge,this.entities=[],this.totalPages=0,this.pageNumber=0):(this.entities=a.body.content,this.totalPages=a.body.totalPages,this.pageNumber=a.body.number,this.totalElements=a.body.totalElements):401===a.status?this.$router.push("/login"):(this.messageType=pe,this.message=`Error: ${a.body.message}`)},async getHttpRefs(e,t){let s=ae+e;const i=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}}),a=await i.json();return{status:i.status,body:a}},async getDefaultHttpRefs(e){let t=le+e;const s=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}}),i=await s.json();return{status:s.status,body:i}}}};const Qn=(0,C.Z)(Jn,[["render",Kn]]);var Xn=Qn;const er={class:"d-flex flex-column align-items-start"},tr=(0,a._)("br",null,null,-1),sr=(0,a._)("h4",{class:"mb-4 text-muted"},"Create Media",-1),ir={class:"mb-4"},ar=(0,a._)("label",{for:"name",class:"form-label"},[(0,a.Uk)("Name"),(0,a._)("span",{class:"span-color"}," *")],-1),or={class:"mb-4"},lr=(0,a._)("label",{for:"description",class:"form-label"},"Description",-1),nr={class:"mb-4"},rr=(0,a._)("label",{for:"ref",class:"form-label"},[(0,a.Uk)("Http reference"),(0,a._)("span",{class:"span-color"}," *")],-1),cr=(0,a._)("div",null,[(0,a._)("span",{class:"span-color"},"* "),(0,a._)("i",null,"Required fields")],-1),ur=(0,a._)("button",{type:"submit",class:"btn btn-secondary mt-4"},"Create",-1);function dr(e,t,s,o,l,r){const c=(0,a.up)("metainfo"),u=(0,a.up)("BreadcrumbWorkoutsComponent"),d=(0,a.up)("AlertComponent");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(c,null,{title:(0,a.w5)((({content:e})=>[(0,a.Uk)((0,n.zw)(e),1)])),_:1}),(0,a._)("div",er,[(0,a._)("div",null,[(0,a.Wm)(u),(0,a.Wm)(d,{message:l.message,messageType:l.messageType},null,8,["message","messageType"]),tr]),sr,(0,a._)("form",{onSubmit:t[3]||(t[3]=(0,i.iM)(((...e)=>r.onSubmitForm&&r.onSubmitForm(...e)),["prevent"])),class:"form-width"},[(0,a._)("div",ir,[ar,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>l.name=e),placeholder:"Enter title",required:""},null,512),[[i.nr,l.name]])]),(0,a._)("div",or,[lr,(0,a.wy)((0,a._)("textarea",{rows:"3",class:"form-control",id:"description","onUpdate:modelValue":t[1]||(t[1]=e=>l.description=e),placeholder:"Enter description (optional)"},null,512),[[i.nr,l.description]])]),(0,a._)("div",nr,[rr,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"ref","onUpdate:modelValue":t[2]||(t[2]=e=>l.ref=e),placeholder:"https://domain.com",required:""},null,512),[[i.nr,l.ref]])]),cr,ur],32)])],64)}var mr={name:"MediaCreatePage",setup(){(0,L.jq)({title:"Create Media",htmlAttrs:{lang:"en"}})},data(){return{name:null,description:null,ref:null,message:"",messageType:""}},components:{AlertComponent:Se,BreadcrumbWorkoutsComponent:pi},async created(){this.$store.commit("setCurrentUrl","/workouts-create-media");const e=await At();e?this.$store.commit("setLogged",!0):(this.$store.commit("setLogged",!1),this.$router.push("/login"))},methods:{async onSubmitForm(){const e={name:this.name,description:this.description,ref:this.ref};try{const t=await this.createMedia(e);if(201===t.status)this.messageType=he,this.message=Ce;else{let e="";for(const s in t.body)e+=`${s}: ${t.body[s]}. `;this.messageType=pe,this.message=e}}catch(t){this.messageType=pe,this.message=`Error: ${t}`}this.name="",this.description="",this.ref=""},async createMedia(e){let t=Bt();const s=await fetch(ae,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)}),i=await s.json();return{status:s.status,body:i}}}};const pr=(0,C.Z)(mr,[["render",dr]]);var hr=pr;const gr={class:"d-flex flex-column align-items-start"},fr=(0,a._)("br",null,null,-1),br={key:0,class:"mb-4 text-muted"},yr={class:"mb-4"},wr={for:"name",class:"form-label"},kr={class:"mb-4"},_r={for:"description",class:"form-label"},xr={class:"mb-4"},vr={for:"ref",class:"form-label"},Cr=(0,a._)("button",{type:"submit",class:"btn btn-secondary mt-2"},"Update",-1),Dr={key:2},Er=(0,a._)("h4",{class:"mb-2 text-muted"},"Delete Media",-1),Tr=(0,a._)("div",{class:"mb-2"},"Deletion of the media reference will not affect associated workouts and exercises.",-1),Pr={class:"d-flex"},$r=(0,a._)("label",{for:"confirmDeletion",class:"form-check-label ms-2"},[(0,a._)("span",{class:"span-color"},"Confirm deletion. This action cannot be undone.")],-1),qr=["disabled"],Wr=(0,a._)("br",null,null,-1);function Ur(e,t,s,o,l,r){const c=(0,a.up)("metainfo"),u=(0,a.up)("BreadcrumbWorkoutsComponent"),d=(0,a.up)("AlertComponent");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(c,null,{title:(0,a.w5)((({content:e})=>[(0,a.Uk)((0,n.zw)(e),1)])),_:1}),(0,a._)("div",gr,[(0,a._)("div",null,[(0,a.Wm)(u),(0,a.Wm)(d,{message:l.message,messageType:l.messageType},null,8,["message","messageType"]),fr]),l.isDeleted?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("h4",br,"Update Media")),l.isDeleted?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("form",{key:1,class:"mb-5",onSubmit:t[3]||(t[3]=(0,i.iM)(((...e)=>r.onSubmitUpdateForm&&r.onSubmitUpdateForm(...e)),["prevent"])),style:{width:"fit-content"}},[(0,a._)("div",yr,[(0,a._)("label",wr,"Current title: "+(0,n.zw)(this.nameLabel),1),(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>l.name=e),placeholder:"Enter new title"},null,512),[[i.nr,l.name]])]),(0,a._)("div",kr,[(0,a._)("label",_r,"Current description: "+(0,n.zw)(this.descriptionLabel?this.descriptionLabel:"None"),1),(0,a.wy)((0,a._)("textarea",{rows:"3",class:"form-control",id:"description","onUpdate:modelValue":t[1]||(t[1]=e=>l.description=e),placeholder:"Enter new description"},null,512),[[i.nr,l.description]])]),(0,a._)("div",xr,[(0,a._)("label",vr,"Current media reference: "+(0,n.zw)(this.refLabel),1),(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"ref","onUpdate:modelValue":t[2]||(t[2]=e=>l.ref=e),placeholder:"https://new-media.com"},null,512),[[i.nr,l.ref]])]),Cr],32)),l.isDeleted?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Dr,[Er,Tr,(0,a._)("div",Pr,[(0,a.wy)((0,a._)("input",{type:"checkbox",value:"",class:"form-check-input",id:"confirmDeletion","onUpdate:modelValue":t[4]||(t[4]=e=>l.confirmDeletion=e)},null,512),[[i.e8,l.confirmDeletion]]),$r]),(0,a._)("form",{onSubmit:t[5]||(t[5]=(0,i.iM)(((...e)=>r.onSubmitDeleteForm&&r.onSubmitDeleteForm(...e)),["prevent"])),style:{"min-width":"13rem",width:"fit-content"},class:"mb-5"},[(0,a._)("button",{disabled:!l.confirmDeletion,type:"submit",class:"btn btn-warning mt-4"},"Delete",8,qr)],32),Wr]))])],64)}var Sr={name:"MediaManagePage",setup(){(0,L.jq)({title:"Manage Media",htmlAttrs:{lang:"en"}})},data(){return{nameLabel:"",descriptionLabel:"",refLabel:"",name:null,description:null,ref:null,message:"",messageType:"",isDeleted:!1,confirmDeletion:!1}},components:{AlertComponent:Se,BreadcrumbWorkoutsComponent:pi},async created(){this.$store.commit("setCurrentUrl",`/workouts-manage-media/${this.$route.params.id}`);const e=await At();e?(this.$store.commit("setLogged",!0),await this.getMediaDetails(this.$route.params.id)):(this.$store.commit("setLogged",!1),this.$router.push("/login"))},methods:{async onSubmitUpdateForm(){const e={name:this.name,description:this.description,ref:this.ref};try{const t=await this.updateMedia(e);if(200===t.status)this.messageType=he,this.message=De,this.nameLabel=t.body.name,this.descriptionLabel=t.body.description,this.refLabel=t.body.ref,this.name=null,this.description=null,this.ref=null;else{let e="";for(const s in t.body)e+=`${s}: ${t.body[s]}. `;this.messageType=pe,this.message=e}}catch(t){this.messageType=pe,this.message=`Error: ${t}`}},async onSubmitDeleteForm(){try{const e=await this.deleteMedia(this.$route.params.id);204===e.status?(this.messageType=he,this.message=Ee,this.isDeleted=!0):(this.messageType=pe,this.message="Error occured")}catch(e){this.messageType=pe,this.message=`Error: ${e}`}},async getMediaDetails(e){let t=oe+e,s=Bt();const i=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}}),a=await i.json();this.nameLabel=a.name,this.descriptionLabel=a.description,this.refLabel=a.ref},async updateMedia(e){let t=oe+this.$route.params.id,s=Bt();const i=await fetch(t,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(e)}),a=await i.json();return{status:i.status,body:a}},async deleteMedia(e){let t=oe+e,s=Bt();const i=await fetch(t,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}});return{status:i.status}}}};const Ir=(0,C.Z)(Sr,[["render",Ur]]);var Lr=Ir;const zr={class:"d-flex flex-column align-items-start"},Mr=(0,a._)("br",null,null,-1),Br=(0,a._)("h5",null,"In development",-1);function Ar(e,t,s,i,o,l){const r=(0,a.up)("metainfo"),c=(0,a.up)("BreadcrumbWorkoutsComponent"),u=(0,a.up)("AlertComponent");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r,null,{title:(0,a.w5)((({content:e})=>[(0,a.Uk)((0,n.zw)(e),1)])),_:1}),(0,a._)("div",zr,[(0,a._)("div",null,[(0,a.Wm)(c),(0,a.Wm)(u,{message:o.message,messageType:o.messageType},null,8,["message","messageType"]),Mr]),Br])],64)}var Nr={name:"RemindersWorkoutsPage",setup(){(0,L.jq)({title:"Reminders",htmlAttrs:{lang:"en"}})},data(){return{message:"",messageType:""}},components:{BreadcrumbWorkoutsComponent:pi,AlertComponent:Se},async created(){this.$store.commit("setCurrentUrl","/workouts-reminders-list");const e=await At();e?this.$store.commit("setLogged",!0):(this.$store.commit("setLogged",!1),this.messageType=me,this.message=ye)}};const Fr=(0,C.Z)(Nr,[["render",Ar]]);var jr=Fr;const Rr=(0,a._)("div",{class:"d-flex"},[(0,a._)("h5",null,"In development")],-1);function Hr(e,t,s,i,o,l){const r=(0,a.up)("metainfo");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r,null,{title:(0,a.w5)((({content:e})=>[(0,a.Uk)((0,n.zw)(e),1)])),_:1}),Rr],64)}var Vr={name:"NutritionPage",setup(){(0,L.jq)({title:"Nutrition",htmlAttrs:{lang:"en"}})},async created(){this.$store.commit("setCurrentUrl","nutrition")}};const Or=(0,C.Z)(Vr,[["render",Hr]]);var Yr=Or;const Zr=(0,a._)("div",{class:"d-flex"},[(0,a._)("h5",null,"In development")],-1);function Gr(e,t,s,i,o,l){const r=(0,a.up)("metainfo");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r,null,{title:(0,a.w5)((({content:e})=>[(0,a.Uk)((0,n.zw)(e),1)])),_:1}),Zr],64)}var Kr={name:"MeditationsPage",setup(){(0,L.jq)({title:"Meditations",htmlAttrs:{lang:"en"}})},async created(){this.$store.commit("setCurrentUrl","meditations")}};const Jr=(0,C.Z)(Kr,[["render",Gr]]);var Qr=Jr;const Xr=(0,a._)("div",{class:"d-flex flex-column"},[(0,a._)("h5",null,"In development")],-1);function ec(e,t,s,i,o,l){const r=(0,a.up)("metainfo");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r,null,{title:(0,a.w5)((({content:e})=>[(0,a.Uk)((0,n.zw)(e),1)])),_:1}),Xr],64)}var tc={name:"CalendarPage",setup(){(0,L.jq)({title:"Calendar",htmlAttrs:{lang:"en"}})},async created(){this.$store.commit("setCurrentUrl","calendar")}};const sc=(0,C.Z)(tc,[["render",ec]]);var ic=sc;const ac=(0,a._)("div",{class:"d-flex flex-column"},[(0,a._)("h5",null,"In development")],-1);function oc(e,t,s,i,o,l){const r=(0,a.up)("metainfo");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r,null,{title:(0,a.w5)((({content:e})=>[(0,a.Uk)((0,n.zw)(e),1)])),_:1}),ac],64)}var lc={name:"StatsPage",setup(){(0,L.jq)({title:"Stats",htmlAttrs:{lang:"en"}})},async created(){this.$store.commit("setCurrentUrl","stats")}};const nc=(0,C.Z)(lc,[["render",oc]]);var rc=nc;const cc=[{path:"/",name:"HomePage",component:B},{path:"/login",name:"LoginPage",component:ze},{path:"/logout",name:"LogoutPage",component:Ne},{path:"/signup",name:"SignupPage",component:mt},{path:"/settings",name:"SettingsPage",component:jt},{path:"/workouts-list",name:"WorkoutsListPage",component:ki},{path:"/workouts-details/:type/:id",name:"WorkoutDetailsPage",component:Qi},{path:"/workouts-create-workout",name:"WorkoutCreatePage",component:ba},{path:"/workouts-manage-workout/:id",name:"WorkoutManagePage",component:Na},{path:"/workouts-exercises-list",name:"ExercisesListPage",component:So},{path:"/workouts-exercise-details/:type/:id",name:"ExerciseDetailsPage",component:pl},{path:"/workouts-create-exercise",name:"ExerciseCreatePage",component:Bl},{path:"/workouts-manage-exercise/:id",name:"ExerciseManagePage",component:hn},{path:"/workouts-media-list",name:"MediasListPage",component:Xn},{path:"/workouts-create-media",name:"MediaCreatePage",component:hr},{path:"/workouts-manage-media/:id",name:"MediaManagePage",component:Lr},{path:"/workouts-reminders-list",name:"RemindersWorkoutsPage",component:jr},{path:"/nutrition",name:"NutritionPage",component:Yr},{path:"/meditations",name:"MeditationsPage",component:Qr},{path:"/calendar",name:"CalendarPage",component:ic},{path:"/stats",name:"StatsPage",component:rc}],uc=(0,q.p7)({history:(0,q.PO)("/"),routes:cc});var dc=uc,mc=s(65);const pc=(0,mc.MT)({state(){return{isLogged:!1,currentUrl:"",previousUrl:"",sharedMessage:"",sharedMessageType:""}},mutations:{setLogged(e,t){e.isLogged=t},setCurrentUrl(e,t){e.previousUrl=e.currentUrl,e.currentUrl=t},setSharedMessage(e,t){e.sharedMessage=t},setSharedMessageType(e,t){e.sharedMessageType=t}}});var hc=pc;const gc=(0,i.ri)($);gc.use(hc).use(dc).use((0,L.Bg)()).mount("#app")}},t={};function s(i){var a=t[i];if(void 0!==a)return a.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,i,a,o){if(!i){var l=1/0;for(u=0;u<e.length;u++){i=e[u][0],a=e[u][1],o=e[u][2];for(var n=!0,r=0;r<i.length;r++)(!1&o||l>=o)&&Object.keys(s.O).every((function(e){return s.O[e](i[r])}))?i.splice(r--,1):(n=!1,o<l&&(l=o));if(n){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[i,a,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.p="/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,o,l=i[0],n=i[1],r=i[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(a in n)s.o(n,a)&&(s.m[a]=n[a]);if(r)var u=r(s)}for(t&&t(i);c<l.length;c++)o=l[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(u)},i=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(1495)}));i=s.O(i)})();
//# sourceMappingURL=app.b94647ed.js.map